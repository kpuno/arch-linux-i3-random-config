define("Viva.Controls/Util/Viva.TemplateEngine",["require","exports"],function(){"use strict";var n;return function(n){function y(){return{templateSources:{},templateData:{}}}function e(n,t){var i=n.filter(t);return i.length||(i=n.find(t)),i}function p(n,t){n.addClass(t)}function h(n,t,i){var e=r(n),u=r(t);return e.forEach(function(n){var t=!1,e=n.key,r=n.value;u.some(function(n){var o=n.key,u=n.value;return o===e&&(t=!0,n.value=i===0?"{"+h(r,u,i+1)+"}":e===f?"ko.unwrap("+u+')+" "+ko.unwrap('+r+")":r),t});t||u.push(n)}),u.reduce(function(n,t,i){return i>0&&(n+=","),n+("'"+t.key+"':"+t.value)},"")}function c(n,t){var r=n.attr(i);n.attr(i,h(t,r,0))}function w(n){var h=n[0].className,v=r(n.attr(i)),e=[],l=[],o=0,a=!1,t;v.forEach(function(n){var t=n[u],i=n[s];t==="css"?r(i).forEach(function(n){u in n&&e.push("(ko.unwrap("+n[s]+')?"'+n[u]+'":"")')}):(t==="attr"&&r(i).some(function(n){return n[u]===f})&&(a=!0),l.push(n))});e.length&&o++;a&&o++;h!==""&&o++;o>=2&&(t=[],h!==""&&(t.push('"'+n[0].
className+'"'),n[0].removeAttribute(f)),e.length&&(t.push.apply(t,e),n.attr(i,ko.expressionRewriting.preProcessBindings(l))),c(n,"attr:{'class':"+t.join('+" "+')+"}"))}var t=jQuery,u="key",s="value",i="data-bind",f="class",r=ko.expressionRewriting.parseObjectLiteral,l=function(){function n(n,t){this._store=n;this._key=t}return n.prototype.addAttribute=function(n,r,u){var o=t(this._get()),s=e(o,n);s.length&&(s.toArray().forEach(function(n){var e=t(n);e.attr(r)?r===i?c(e,u):r===f?p(e,u):e.attr(r,u):e.attr(r,u);w(e)}),this._save(o))},n.prototype.html=function(n,i){var r=t(this._get()),u=e(r,n);u.html(i);this._save(r)},n.prototype.prepend=function(n,i){var r=t(this._get()),u=e(r,n);u.prepend(i);this._save(r)},n.prototype.append=function(n,i){var r=t(this._get()),u=e(r,n);u.append(i);this._save(r)},n.prototype._get=function(){return this._store.templateSources[this._key]},n.prototype._save=function(n){for(var i="",t=0;t<n.length;t++)n[t].nodeType===8?i+="<!--"+n[t].nodeValue+"-->":n[t].nodeType===
1&&(i+=n[t].outerHTML);this._store.templateSources[this._key]=i},n}(),o,a,v;n.HtmlManipulation=l;o=function(n){function t(){n.apply(this,arguments);this._storage=y()}return __extends(t,n),t.prototype.getTemplate=function(n){return this._storage.templateSources[n]},t.prototype.setTemplate=function(n,t){this._storage.templateSources[n]=t},t.prototype.makeTemplateSource=function(n){return new v(this._storage,n)},t}(ko.nativeTemplateEngine);n.StringTemplateEngine=o;a=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.getHtmlTemplate=function(n){return new l(this._storage,n)},t}(o);n.HtmlTemplateEngine=a;v=function(){function n(n,t){this._storage=n;this._name=t}return n.prototype.text=function(n){var t=this._name,r=this._storage.templateSources,i;if(arguments.length===0){if(i=r[t],i)return i;throw new Error("Template name '"+t+"' does not exist.");}r[t]=n},n.prototype.data=function(n,t){var f=this._storage,i=f.templateData,u,r;if(i||(i=f.templateData={}),u=this.
_name,r=i[u],r||(i[u]=null),arguments.length===1)return r[n];r[n]=t},n}()}(n||(n={})),n});define("Viva.Controls/Util/Viva.DateUtil",["require","exports","f"],function(n,t,i){"use strict";var r;return function(n){function k(n,t,i){return i=i?i:"0",t+1>=n.length&&(n=Array(t+1-n.length).join(i)+n),n}function f(n,t,i){return k(n+"",t,i)}function v(n,t){return n.substr(Math.max(n.length-t,0))}function r(n,t){return v(n+"",t)}function u(n,t){return v(f(n,t,"0"),t)}function y(n){return n=n%12,n===0?12:n}function s(n){return n.split("").reverse().join("")}function e(n){return"\\"+n.split("").join("\\")}function d(i){var o=i.length,h,c,l,a,s=n.getLocaleValues();switch(i[0]){case"y":switch(o){case 3:return f(t.getFullYear(),o);case 1:return parseInt(r(t.getFullYear(),2),10)+"";default:return u(t.getFullYear(),o)}case"M":switch(o){case 4:return e(s.months[t.getMonth()]);case 3:return e(s.monthsAbbr[t.getMonth()]);case 2:return u(t.getMonth()+1,2);default:return r(t.getMonth()+1,2)}case"d":switch(
o){case 4:return e(s.days[t.getDay()]);case 3:return e(s.daysAbbr[t.getDay()]);case 2:return u(t.getDate(),2);default:return r(t.getDate(),2)}case"h":return o===2?u(y(t.getHours()),2):r(y(t.getHours()),2);case"H":return o===2?u(t.getHours(),2):r(t.getHours(),2);case"m":return o===2?u(t.getMinutes(),2):r(t.getMinutes(),2);case"s":switch(o){case 4:return u(t.getMilliseconds(),3);case 3:return r(t.getMilliseconds(),3);case 2:return u(t.getSeconds(),2)}return r(t.getSeconds(),2);case"t":return o===2?s.ampm[t.getHours()<12?0:1]:s.ampmAbbr[t.getHours()<12?0:1];case"z":return(h=-t.getTimezoneOffset()/60,c=h<0,c&&(h=-h),l=parseInt(h+"",10),a=(h-l)*60,o===3)?(c?"-":"+")+f(l,2)+":"+f(a,2):(c?"-":"+")+f(l,o);case"/":return s.dateSeparator;case":":return s.timeSeparator}return""}function g(n){return s(d(n))}function nt(i){for(var r,o,f=[],u=1;u<arguments.length;u++)f[u-1]=arguments[u];return f.length?(r=f[0],o=n.getLocaleValues(),r=o.standard[r]||r,r=r.replace(/'([^']*)'/g,function(n,t){return e(t)}
),t=i,s(s(r).replace(/(y{1,5}|M{1,4}|d{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,4}|t{1,2}|z{1,3}|\/|:)(?!\\)/g,g).replace(/\\(?!\\)/g,""))):w.apply(i,arguments)}function tt(n,t){var i;return l(n)?null:(i=n.getTime()+n.getTimezoneOffset()*6e4,new Date(i+t*6e4))}function it(){return h===undefined&&(h=(new Date).getTimezoneOffset()),h}function rt(n,t){var i;return l(n)?null:(i=n.getTime()-t*6e4,new Date(i-n.getTimezoneOffset()*6e4))}function ut(n,t){return n&&t?n.getFullYear()===t.getFullYear()?n.getMonth()===t.getMonth()?n.getDate()===t.getDate()?0:n.getDate()<t.getDate()?-1:1:n.getMonth()<t.getMonth()?-1:1:n.getFullYear()<t.getFullYear()?-1:1:-1}function ft(n,t){return n instanceof Date&&t instanceof Date&&a(n)===a(t)}var c=i,l=c.isNullOrUndefined,p=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(i.DateUtil.DateTimeRange),t,h;n.DateTimeRange=p;var et=window,w=Date.prototype.toString,o=i.Polyfills,b=i.uncurryThis,a=c.toSeconds;n.getLocaleValues=o.getLocaleValues;n.setLocaleValues=
o.setLocaleValues;n.toRelativeString=b(o.dateToRelativeString);n.toString=nt;n.parse=o.dateParse;n.getDateWithOffset=tt;n.getDefaultTimezoneOffset=it;n.getLocalDate=rt;n.compareDatesByDays=ut;n.compareDatesBySeconds=ft}(r||(r={})),r});define("MsPortalImpl/Base/Base.Timers",["require","exports","f"],function(n,t,i){"use strict";var r;return function(n){function s(n){t={handleMap:{},counter:1,handle:null};!n&&r.requestAnimationFrame&&r.cancelAnimationFrame?(u=r.requestAnimationFrame,f=r.cancelAnimationFrame):(u=function(n){var t=(new Date).getTime(),i=Math.max(0,16-(t-o)),u=r.setTimeout(function(){n(t+i)},i);return o=t+i,u},f=function(n){r.clearTimeout(n)})}function h(n){return u(n)}function c(n){f(n)}function v(n){var i=t.counter++;return t.handleMap[e+i]=n,l(!1),i}function y(n){delete t.handleMap[e+n]}function p(n){var i;a(t.handleMap,function(t,u){i=!0;u.call(r,n)});i?l(!0):w()}function l(n){(n||!t.handle)&&(t.handle=h(p))}function w(){var n=t.handle;n&&(c(n),t.handle=null)}var r=window,
e="",u,f,t,o=0,a=i.forEachKey;n.setupTimers=s;n.requestAnimationFrame=h;n.cancelAnimationFrame=c;n.requestAnimationFrameInterval=v;n.cancelAnimationFrameInterval=y;s(!1)}(r||(r={})),r});define("_generated/Less/Viva.Controls/Util/Viva.Resize.css",["require","exports","module"],function(n,t,i){"use strict";var r;return function(){window.fx.injectCss(i,"@keyframes azc-resize-enter{0%{top:0}}@-webkit-keyframes azc-resize-enter{0%{top:0}}.azc-resize{animation:azc-resize-enter 1ms;-webkit-animation:azc-resize-enter 1ms;position:absolute;left:0;top:0;width:100%;height:100%;overflow:scroll;visibility:hidden}")}(r||(r={})),r});define("Viva.Controls/Util/Viva.Resize",["require","exports","f","MsPortalImpl/Base/Base.Timers","../../_generated/Less/Viva.Controls/Util/Viva.Resize.css"],function(n,t,i,r){"use strict";var u;return function(n){function v(n){return"<div class='"+u+" "+n+"'><div class='"+h+"'><\/div><\/div>"}function t(n,t){return n.children("."+t)}function f(n,t,i,r){n.registerForDispose(
t.setEvents([i,r]))}function b(n,i,u){function ut(){nt=i.width();tt=i.height();it.width(nt+10);it.height(tt+10);y.scrollLeft(y[0].scrollWidth);y.scrollTop(y[0].scrollHeight);rt.css("width","200%");rt.css("height","200%");b.scrollLeft(b[0].scrollWidth);b.scrollTop(b[0].scrollHeight)}function g(){k||(k=r.requestAnimationFrame(function(){k=null;var n=i.width(),t=i.height();(t!==tt||n!==nt)&&u(n,t);ut()}))}var d;if(t(i,s).length)throw new Error;d=i.css(o);d===l&&i.css(o,"relative");i.append(v(a)+v(s));var y=t(i,s),b=t(i,a),it=t(y,h),rt=t(b,h),nt,tt,k;ut();f(n,y,c,g);f(n,b,c,g);f(n,y,e.animationstart,g);f(n,w(p),e.resize,g);n.registerForDispose(function(){k&&(r.cancelAnimationFrame(k),k=null);y.remove();b.remove();d===l&&i.css(o,d)})}var y=i.Base,e=y.EventTypes,c=e.scroll,p=window,w=jQuery,o="position",l="static",u="azc-resize",s=u+"-overflow",a=u+"-underflow",h=u+"-content";n.track=b}(u||(u={})),u});define("MsPortalImpl/UI/Commands/UI.Commands.Base",["require","exports"],function(){"use strict";
var n;return function(n){(function(n){n[n.Default=0]="Default";n[n.List=1]="List";n[n.HotSpot=2]="HotSpot"})(n.ContextMenuEntityType||(n.ContextMenuEntityType={}));var t=n.ContextMenuEntityType}(n||(n={})),n});define("MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.ActionHandler",["require","exports","f"],function(n,t,i){"use strict";var r;return function(n){function t(n){var t=i.Base.ProxiedObservables.data(n,"ActionHandler");return t||(t=ko.observable(),i.Base.ProxiedObservables.data(n,"ActionHandler",t)),t}n.getOrCreateActionHandler=t}(r||(r={})),r});define("MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.ExtensibleControl",["require","exports","f","MsPortalImpl.Controls/Controls/Base/Loadable"],function(n,t,i,r){"use strict";var u;return function(n){function a(n){var t=[],i={},r;return n.forEach(function(n){i[n.name]=n}),r={},n.forEach(function(n){e(n,i,t)}),t.sort(function(n,t){return n.priority-t.priority}),t}function e(n,t,i,r){r===void 0&&(r=!1);!n.load&&(r||n.
enabled)&&(n.load=!0,i.push(n),n.dependencies&&n.dependencies.length&&n.dependencies.forEach(function(n){var r=t[n];e(r,t,i,!0)}))}var t=i.Base,u=i.Errors,s=u.CanceledError,h=u.DisposedError,f=t.Promises,c=f.makeCancelable,l=f.CancelationToken,v=function(n){function i(t,i,r){n.call(this,t,i,r);this._pluginsDeferred=Q.defer()}return __extends(i,n),i.prototype.dispose=function(){var t=this;this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(this._plugins&&(this._plugins.reverse().forEach(function(n){n.dispose();var i=n.cssClass;i&&t.element.removeClass(n.cssClass);t[n.name]=null}),this._plugins=null),n.prototype.dispose.call(this))},i.prototype.loadPlugins=function(n){var i=this,r=n.map(function(n,t){return{name:n.name,dependencies:n.dependencies,moduleId:n.moduleId,priority:t,enabled:n.isEnabled(i.options),load:!1}}),u=a(r);return this.waitFor(Q.all(u.map(function(n){return t.Amd.loadAsync(n.moduleId).then(function(n){return new n.Plugin(i)})}))).then(function(n){i._plugins=n;i.
_plugins.forEach(function(n){var t=n.cssClass;t&&i.element.addClass(t);i[n.name]=n});i._pluginsDeferred.resolve(n)},function(n){return i._pluginsDeferred.reject(n),Q.reject(n)})},Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),i.prototype._bindDescendants=function(t){t===void 0&&(t={});this._plugins&&this._plugins.forEach(function(n){t[n.name]=n});n.prototype._bindDescendants.call(this,t)},i.prototype.triggerPlugins=function(n){for(var i,r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return i=[],this._plugins&&this._plugins.forEach(function(t){var u=t[n];u&&i.push(u.apply(t,r))}),i},i.prototype.waitForPlugins=function(){return this._pluginsDeferred.promise},i}(r.Widget),o;n.Widget=v;o=function(){function n(n){this.name=n.name;this.cssClass=n.cssClass;this.widget=n.widget;this.lifetimeManager=this.widget.lifetimeManager.createChildLifetime();this._waitToken=new l}return n.prototype.waitFor=function(n){return c(n,this.
_waitToken)},n.prototype.dispose=function(){this.lifetimeManager&&(this.lifetimeManager.dispose(),this.lifetimeManager=null,this._waitToken.cancel(new s({message:"Disposed",innerErrors:new h({source:this.name})})))},n}();n.PluginBase=o}(u||(u={})),u});define("MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base",["require","exports","f","./Controls.Lists.ExtensibleControl","Viva.Controls/Util/Viva.TemplateEngine","./Controls.Lists.ActionHandler"],function(n,t,i,r,u,f){"use strict";var e;return function(n){function o(n,t){return a.compareIds(n,t)}var l=FxImpl,p=l.Data,a=i.ViewModels.Internal.Selection2,w=window,v=jQuery,t=ko.observable,y=ko.observableArray,e,s,h,c;n.compareIds=o;e=function(){function n(n){this._widget=n}return n.prototype.beginLoad=function(){var t=this,n=this._widget.dataNavigator;return n.items.mapInto(this._widget.lifetimeManager,function(n,i){return t._widget.createItem({dataItem:i})},this._widget._items),this._widget.waitFor(n.loadAll())},n}();s=function()
{function n(n){this.navigatorItem=t(n.dataItem);this.id=this.delayedProperty(undefined,function(n){return n.id});this.data=this.delayedProperty(undefined,function(n){return n.data});this.isDisabled=n.isDisabled||t(!1);this.isFocused=n.isFocused||t(!1)}return n.prototype.delayedProperty=function(n,i){var f=this,r=n,u=ko.pureComputed(function(){var r,u=f.navigatorItem(),n;return u&&(n=i(u),r=ko.isObservable(n)?n:t(n)),r});return ko.pureComputed({read:function(){var n=u();return n?n():r},write:function(n){var t=u();t?t(n):r=n}})},n}();n.Item=s;h=function(n){function i(i,r,o){var s=this;n.call(this,i,r,o);this.waitForPlugins().then(function(){s._actionHandler={focusFirstItem:function(){s.triggerPlugins("focusFirstItem")},activateFirstItem:function(){s.triggerPlugins("activateFirstItem")},pseudoFocusFirstItem:function(){s.triggerPlugins("pseudoFocusFirstItem")},pseudoBlurFirstItem:function(){s.triggerPlugins("pseudoBlurFirstItem")}};f.getOrCreateActionHandler(r)(s._actionHandler)});this._eventHandlers=
[];this.templateEngine=new u.HtmlTemplateEngine;this._items=y();this._loader=new e(this);this.loadState=t(0);this._deferredLoad=Q.defer();this._internalLoading=ko.observable(!1);this._loading=ko.pureComputed(function(){return s._internalLoading()||s.options.loading()})}return __extends(i,n),i.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(f.getOrCreateActionHandler(this.options)(null),this._deferredChange&&(this._deferredChange.reject(),this._deferredChange=null),this._selectableSet&&(this._selectableSet=null),n.prototype.dispose.call(this))},i.prototype.attachEvent=function(n,t,i,r){var u=function(){Array.prototype.unshift.call(arguments,v(this));r.apply(this,arguments)};n.on(t,i,u);this._eventHandlers.push({element:n,events:t,selector:i,handler:u})},i.prototype._attachEvents=function(){this.triggerPlugins("attachEvents")},i.prototype._detachEvents=function(){if(this.triggerPlugins("detachEvents"),this._eventHandlers){var n=this._eventHandlers;
this._eventHandlers=null;n.forEach(function(n){n.element.off(n.events,n.selector,n.handler)})}},Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dataNavigator",{get:function(){return this.options.dataNavigator},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectableSet",{get:function(){return this._selectableSet},enumerable:!0,configurable:!0}),i.prototype.createItem=function(){throw new Error("override");},i.prototype.getItemById=function(n){var t=null;return n&&(t=this._items.peek().first(function(t){return o(t.id,n)})),t},i.prototype.getItemByIndex=function(n){var t=null,i=this._items();return n>=0&&n<i.length&&(t=i[n]),t},i.prototype.getEnabledVisibleItems=function(){var t=this._items.peek(),n=[];return t.forEach(function(t){t.isDisabled.peek()||n.push(t)}),n},i.prototype.getFirstEnabledVisibleItem=function(){return this._items.peek().first(function(n){return!n.
isDisabled.peek()})},i.prototype.getFirstVisibleItem=function(){var n,t=this._items.peek();return t.length&&(n=t[0]),n},i.prototype.getFocusableByPage=function(n,t){var o=this.getPagedFocusableList(n),r=this.getFocusedItemIndex(),u=this._getNumberOfItemsPerPage(n),s=r<u?0:Math.floor(r/u),h=r%u,n=n,f,e=this.getFocusableList(),i;switch(t){case 33:i=r-u;i=i>=0?i:0;f=e[i];this.getItemElement(n,f).scrollIntoView(!0);break;case 34:i=r+u;i=i<e.length?i:e.length-1;f=e[i];this.getItemElement(n,f).scrollIntoView(!1)}return f},i.prototype.getItemElement=function(n,t){return this.widget().find(n).toArray().first(function(n){return ko.dataFor(n)===t})},i.prototype.getFocusableList=function(){return this.getEnabledVisibleItems()},i.prototype.getFocusedItemIndex=function(){return this._items.peek().firstIndex(function(n){return n.isFocused.peek()})},i.prototype.getPagedFocusableList=function(n){for(var i=[],t=this.getFocusableList(),r=this._getNumberOfItemsPerPage(n);t.length>0;)t.length<=r?i.push(t.
splice(0)):i.push(t.splice(0,r));return i},i.prototype.getLastEnabledVisibleItem=function(){return this.getEnabledVisibleItems().last()},i.prototype.getOrCreateNextItem=function(n,t,i){var r;t===void 0&&(t=!1);i===void 0&&(i=!0);var f,u=this._items(),e=u.indexOf(n),o=+e;for(r=o+1;r<u.length;r++)if(!u[r].isDisabled.peek()){f=u[r];break}return f},i.prototype.getOrCreatePreviousItem=function(n,t,i){var r;t===void 0&&(t=!0);i===void 0&&(i=!0);var f,u=this._items(),e=u.indexOf(n),o=+e;for(r=o-1;r>=0;r--)if(!u[r].isDisabled.peek()){f=u[r];break}return f},i.prototype.resetForPendingLoad=function(){this._getCountPromise=null},i.prototype.resetContinuation=function(){this.resetForPendingLoad()},i.prototype.load=function(){var n=this;return this._loader||(this._loader=new e(this)),this._internalLoading(!0),this.waitFor(this._loader.beginLoad()).then(function(t){n.loadState(2);n.triggerPlugins("onLoadComplete");n._internalLoading(!1);n._deferredLoad.resolve(t)},function(t){n.loadState(3);n._internalLoading(
!1);n._deferredLoad.reject(t)})},i.prototype.waitForLoad=function(){return this._deferredLoad.promise},i.prototype.waitForPageLoad=function(){return this._deferredPageLoad||(this._deferredPageLoad=Q.defer()),this._deferredPageLoad.promise},i.prototype.waitForChange=function(){return this._deferredChange||(this._deferredChange=Q.defer()),this._deferredChange.promise},i.prototype.deferredPageLoadResolve=function(n){this._deferredPageLoad&&(this._deferredPageLoad.resolve(n),this._deferredPageLoad=null)},i.prototype.deferredPageLoadReject=function(n){this._deferredPageLoad&&(this._deferredPageLoad.reject(n),this._deferredPageLoad=null)},i.prototype._getNumberOfItemsPerPage=function(n){var t=this.element.find(n),r;return t.length>0&&(r=t.scrollParent(),r.length>0)?Math.floor(r.height()/t.height()):i._defaultKeyboardPageSize},i._defaultKeyboardPageSize=10,i}(r.Widget);n.Widget=h;c=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.dispose=function(){n.prototype.dispose.
call(this)},t}(r.PluginBase);n.Plugin=c}(e||(e={})),e});define("MsPortalImpl/Base/Base.FeatureDetection",["require","exports","f"],function(){"use strict";var n;return function(n){function r(){if(!t){for(var o=i("body"),u=i("<div class='fxs-featuredetection-maxheight' style='position: fixed; right: -1000px; bottom: -1000px; height: 10000px; width: 100px'><\/div>").appendTo(o),n=1e4,r,f,e;n===u.height();)r=n,n=10*r,u.height(n);while((e=n-r)>10)f=Math.floor(r+e/2),u.height(f),f===u.height()?r=f:n=f-1;t=r;u.remove()}return t}var u=window,i=jQuery,t;n.getMaxElementHeight=r}(n||(n={})),n})