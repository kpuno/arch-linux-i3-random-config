define("HubsExtension/Common/AssetTypeCache",["require","exports","f","h","i"],function(n,t,i,r,u){"use strict";var f;return function(n){function b(n){return{assetTypesInformation:t.assetTypes.get(n),isPartialSet:t.isPartialSet}}function g(n){if(!h.get(n)){var t=Q.defer();h.set(n,t.promise);Q(v()).then(function(){t.resolve(b(n))},function(n){t.reject(n)},function(){t.notify(b(n))})}return h.get(n)}function k(){return f||(f=y.getRegisteredAssetTypesInformationEndPoint.acquireObject(w,p,s).then(function(n){return d(n&&n.getValue()).finally(function(){n.dispose()})})),f}function nt(n,i){var u=n.toLowerCase(),r;return t&&(r=t.assetTypes.get(i).first(function(n){var t=n.resourceType;return t&&o.isEqualCloudName(n.cloudName,i)&&t.toLowerCase()===u}),r)?Q.resolve(r):y.getResourceTypeAssetTypeInformationEndPoint.invoke(w,p,{resourceTypes:[n],cloudName:i}).then(function(n){if(n&&n.length){var r=n[0];if(r.assetType)return t&&(r.cloudName=i,t.assetTypes.get(i).push(r)),Q.resolve(r)}throw new Error(
"Did not receive any asset type information from the shell");})}function l(n){return t&&!t.isPartialSet?Q.resolve({assetTypesInformation:t.assetTypes.get(n),isPartialSet:t.isPartialSet}):g(n)}function tt(n){return l(n).then(function(n){var t={};return(n&&n.assetTypesInformation||[]).map(function(n){var i=n.resourceType;i&&(t[i.toLowerCase()]=n.icon||e.Images.Polychromatic.ResourceDefault())}),t})}function it(n){return l(n).then(function(n){return n.assetTypesInformation=(n.assetTypesInformation||[]).filter(function(n){return!!n.resourceType}),n})}function a(i){var r=!1;if(t&&(i.assetTypesInformation.every(function(i){var u=t.assetTypes.get(i.cloudName).first(function(n){return e.Utilities.deepEquals(n,i)});if(!u){r=!0;n.onlyPartialResultsAvailable(!0);return!1}return!0}),!r))n.onlyPartialResultsAvailable(i.isPartialSet);t={assetTypes:new o.CloudMap,isPartialSet:i.isPartialSet};i.assetTypesInformation.forEach(function(n){t.assetTypes.getOrSet(n.cloudName,[]).push(n)})}function v(){return Q(
k()).then(function(n){return a(n),n},s,function(n){return a(n),n})}function rt(){f&&(t=s,h=new o.CloudMap,f=s,v(),c.forEach(function(n){n()}))}function ut(n){c.push(n)}function ft(n){c.remove(n)}var e=i.Base,o=u.Extension,y=r.RpcEndPoints.AssetTypes,s=undefined,p=e.Constants.Shell,w=e.Rpc.Internal.client,d=ko.utils.unwrapObservable,t,h=new o.CloudMap,f,c=[];n.onlyPartialResultsAvailable=ko.observable();n.getRegisteredAssetTypesInformation=k;n.getResourceTypeAssetTypeInformation=nt;n.getRegisteredAssetTypes=l;n.getRegisteredResourceTypesIcons=tt;n.getRegisteredResourceTypes=it;n.updateCache=a;n.primeRegisteredAssetTypesCache=v;n.assetTypeCacheUpdated=rt;n.registerAssetTypeCacheUpdatedCallback=ut;n.unregisterAssetTypeCacheUpdatedCallback=ft}(f||(f={})),f});define("HubsExtension/ArmHelpers/ArmApisStartup",["require","exports","f","h","i","../Common/AssetTypeCache"],function(n,t,i,r,u,f){"use strict";var e;return function(t){function pt(n){return b.multiCloudEnabled&&!n&&ot.error(yi),t.armEndpoints.
first(function(t){return b.isEqualCloudName(t.cloudName,n)})}function wt(n){var t=pt(n);return t||it.endpointNotFound(n),t.uri}function y(n){return pt(n).invokeApi}function h(n){return n.replace(ai,"")}function ki(n){return n.replace(vi,e)}function di(n,t){var r=i.trimEnd(t,e)+i.ensurePrefix(n,e),u=li.exec(r);return u||it.invalidUrlEndpoint(r),r=u[1]?u[1]+e:"",r+=ki(h(u[7])),!u[1]&&u[7].startsWith(e)&&(r=e+r),u[8]&&(r+=u[8]),r}function c(n,t){return ni.isUriAbsolute(n)?n:di(n,wt(t))}function gi(n){return{reason:n.trim(),extension:d}}function p(n){var t,r,i,u;return n?(t=(n.extension||st).toLowerCase(),t=t===d.toLowerCase()?"":"("+t+") ",r=n.reason||"unknown",i=""+t+r,i.length<=60)?i:(t=g(g(g(t,"extension",""),"microsoft","ms"),"azure","az"),i=""+t+r,i.length<=60)?i:(u=Math.max(0,57-t.length),""+t+r.substr(0,u)+"..."):null}function bt(n,i,r,u){n.length>t.maxBatchCallCount&&it.batchLimitExceeded();var f=n.map(function(n){return{httpMethod:"GET",relativeUrl:n}}),e={requests:f},o=c("batch"+
at,r);return a({cloudName:r,contentType:t.applicationJson,headers:{accept:t.applicationJson},isBackgroundTask:i,invokeApi:null,setAuthorizationHeader:!0,setTelemetryHeader:p(u),type:"POST",uri:o,data:ht(e)}).then(function(n){return(n.content||{}).responses||[]})}function ut(n,i,r,u,f,e){if(!n.length)return Q();var o=n.pop(),s=c(o,f);return a({cloudName:f,contentType:t.applicationJson,headers:{accept:t.applicationJson},isBackgroundTask:u,invokeApi:y(f),setAuthorizationHeader:!0,setTelemetryHeader:p(e),type:"GET",uri:s}).then(function(t){var s=t.content,c=s&&s.value,h,l;return s?c||(h=wi):h=pi,h&&r({api:o,reason:h}),s&&(c&&i(c),l=s.nextLink,l&&n.push(l)),ut(n,i,r,u,f,e)},function(t){return r({api:o,reason:t}),ut(n,i,r,u,f,e)})}function kt(n,t,i,r,u,f){return ut(n,t,i,r,u,f)}function dt(n,i,r,u,f,e,o,s){var l=c(n,e),h={headers:{accept:t.applicationJson},isBackgroundTask:u,invokeApi:s!==!1?y(e):null,setAuthorizationHeader:!0,setTelemetryHeader:p(o),type:i,uri:l,cloudName:e};return r&&(h.contentType=
t.applicationJson,h.data=typeof r=="string"?r:ht(r)),f&&(h.dataType=f),a(h)}function nr(n,t,i,r,u,f,e){return dt(n,t,i,r,"json",u,f,e).then(function(n){return n.content})}function ft(n,t,i,r,u,f){if(!n.length)return Q();var e=n.slice(0,20);return n.splice(0,20),bt(e,r,u,f).then(function(o){var s=[],h;return o.forEach(function(n,r){n=n||{};var u=n.content;u&&u.value?(t(u.value),u.nextLink&&s.push(u.nextLink)):i({api:e[r],reason:n})}),h=Q(),s.length&&(h=kt(s,t,i,r,u,f)),h.then(function(){return ft(n,t,i,r,u,f)})},function(o){return i({api:e.join("|"),reason:o}),ft(n,t,i,r,u,f)})}function tr(n,t){var i={assetTriplet:n,cloudName:t};return ui.mapAssetIdToResourceIdEndPoint.invoke(ti.client,st,i)}function ir(){return"/locations"+vt}var o=i.Base,w=o.Constants,et=o.Diagnostics,gt=u,b=gt.Extension,ni=o.Resources,ti=o.Rpc.Internal,ii=et.Telemetry,ri=o.Net2,k=i.ViewModels.Services.ResourceTypes,ui=r.RpcEndPoints.AssetTypes,fi=window,l=fi.fx.environment,ot=et.createLog(n),ei=l.armInvokeApi,oi=(l.armEndpoint||
"").replace(/\/$/,""),d=w.ExtensionNames.Hubs,st=w.Shell,g=i.replaceAll,a=ri.Internal.ajaxExtended,ht=JSON.stringify,si="$filter",nt,v,ct,lt,s,at,rr,ur,fr,er,or;t.applicationJson="application/json";nt="microsoft.authorization";v="-preview";t.armApiVersion_april2014="2014-04-01";t.armApiVersion_april2014Preview=t.armApiVersion_april2014+v;t.armApiVersion_july2014Preview="2014-07-01"+v;t.armApiVersion_nov2015="2015-11-01";t.armApiVersion_july2015="2015-07-01";ct="2016-06-01";t.resourceTypeApiVersion=t.armApiVersion_april2014;lt=t.armApiVersion_april2014;t.armApiQueryParameter="api-version";t.armApiVersionQueryStringRaw=t.armApiQueryParameter+"="+t.armApiVersion_april2014Preview;s="?"+t.armApiVersionQueryStringRaw;t.armApiVersionQueryStringRawNov2015=t.armApiQueryParameter+"="+t.armApiVersion_nov2015;at="?"+t.armApiVersionQueryStringRawNov2015;t.armApiVersionQueryStringRawJune2016=t.armApiQueryParameter+"="+ct;var vt="?"+t.armApiVersionQueryStringRawJune2016,hi=t.armApiQueryParameter+"="+
t.armApiVersion_july2014Preview,ci="?"+hi;t.providersSegment="/providers";t.subscriptionsSegment="/subscriptions";t.subscriptionIdPathFormatter=t.subscriptionsSegment+"/{0}";t.resourceGroupsSegment="/resourcegroups";t.resourceProviderWithSubscriptionFormatter=t.subscriptionIdPathFormatter+t.providersSegment+"/{1}";var li=/^((https?:)(\/\/\/?)([\w]*(?::[\w]*)?@)?([\d\w\.-]+)(?::(\d+))?)?([^?]*)?(?:(.*)?)$/i,ai=/^[\s\/\/]*|[\/\/]*$/g,vi=/\/\//g,yt=" and ",yi="Cloud name missing, ArmApi call may fail",pi="Expected response not found.",wi="Expected response.value not found.",e="/";t.maxBatchCallCount=20;var tt="",bi={batchLimitExceeded:tt,invalidUrlEndpoint:tt,endpointNotFound:tt},it=u.getErrorMap(bi),rt;t.armEndpoints=l&&l.armEndpoints||[];b.multiCloudEnabled||(t.armEndpoints=[{cloudName:w.DefaultCloudName,uri:oi,invokeApi:ei}]);t.getArmEndpointUri=wt;t.getArmInvokeApi=y;t.trimLeadingSpacesAndSlashes=h;t.getAbsoluteArmUri=c;t.makeResourceManagerTelemetry=gi;t.shortenTelemetryForAjax=p;t.callBatch=
bt;t.callWithContinuation=kt;t.callRaw=dt;t.call=nr;t.callBatchWithContinuation=ft;t.mapAssetIdFromHubs=tr;t.listLocationsApi=ir,function(n){function i(){return""+t.subscriptionsSegment+vt}function r(n){return(t.subscriptionIdPathFormatter+"/locations").format(n)+s}n.list=i;n.listLocationsApi=r}(rr=t.Subscriptions||(t.Subscriptions={})),function(n){function i(n){return"/"+h(n)+t.providersSegment+"/"+nt+"/permissions?"+t.armApiQueryParameter+"="+t.armApiVersion_july2015}n.getPermissionsApi=i}(ur=t.Permissions||(t.Permissions={})),function(n){function i(n,i,r,u,f){f===void 0&&(f=null);var h="eventTimestamp",e=new o.UriBuilder((t.subscriptionIdPathFormatter+t.providersSegment+"/microsoft.insights/eventtypes/management/{1}").format(i,n)),s=(h+" ge '{0}' "+yt+" "+h+" le '{1}'").format(r.toISOString(),u.toISOString());return f&&f.length>0&&(s=f+yt+s),e.query.setParameter(t.armApiQueryParameter,lt),e.query.setParameter(si,s),e.toString()}function r(n,t,r,u){return u===void 0&&(u=null),i("values",
n,t,r,u)}function u(n,t,r,u){return u===void 0&&(u=null),i("digestEvents",n,t,r,u)}n.getEventsApi=r;n.getEventDigestsApi=u}(fr=t.Events||(t.Events={})),function(n){function i(n){return(""+t.subscriptionIdPathFormatter+t.providersSegment+"/"+nt+"/classicAdministrators").format(n)+ci}n.listClassicAdministratorsApi=i}(er=t.ClassicAdministrators||(t.ClassicAdministrators={})),function(n){function l(n){return u.format(n)+s}function p(n){return e+h(n)+s}function w(n,i){var u=new o.UriBuilder(e+h(n)),f=u.query;return f.getParameter(t.armApiQueryParameter)?Q(u.toString()):r(u.path,i).then(function(n){return f.setParameter(t.armApiQueryParameter,n),u.toString()})}function i(t){var i,f,r,o,u;if(!i)for(f=t.split(e),r=f.length-1;r>0;){if(o=f.slice(0,r).join(e),u=n.resourceTypeApiVersionDictionary,u[o]){i=u[o];u[t]=i;break}r--}return i}function r(r,u){if(k.isResourceGroupId(r))return Q.resolve(t.armApiVersion_april2014Preview);if(k.isResourceId(r)){var o=k.parseResourceDescriptor(r),h=(o.provider+e+
o.types.join(e)).toLowerCase(),l;return rt||(rt=f.getRegisteredResourceTypes(u).then(function(t){t.assetTypesInformation.forEach(function(t){var i=t.resourceType,r=t.apiVersion;i&&r&&(n.resourceTypeApiVersionDictionary[i.toLowerCase()]=r)})})),rt.then(function(){if(l=n.resourceTypeApiVersionDictionary[h]||i(h),l)return l;ii.trace({source:d,action:"MissingApiVersion",actionModifier:h});var f=t.resourceProviderWithSubscriptionFormatter.format(o.subscription,o.provider)+s,p=c(f,u);return Q(a({uri:p,invokeApi:y(u),type:"GET",headers:{accept:t.applicationJson},setAuthorizationHeader:!0,setTelemetryHeader:"getLatestApiVersion",cloudName:u})).then(function(r){var u=r&&r.content&&r.content.resourceTypes||[];return u.forEach(function(t){var i=t.apiVersions||[],u=i.first(function(n){return n&&!n.toLowerCase().endsWith(v)}),r=(o.provider+e+t.resourceType).toLowerCase();n.resourceTypeApiVersionDictionary[r]||(n.resourceTypeApiVersionDictionary[r]=u||i[0])}),n.resourceTypeApiVersionDictionary[h]||i(
h)||t.resourceTypeApiVersion},function(n){return ot.warning(r+" using api ver "+t.resourceTypeApiVersion+". Error "+n.responseText),t.resourceTypeApiVersion})})}}var u=t.subscriptionIdPathFormatter+t.resourceGroupsSegment;n.resourceTypeApiVersionDictionary={"aspera.transfers/services":"2016-03-25","citrix.cloud/accounts":"2015-01-01","cloudyn.analytics/accounts":"2016-03-01","conexlink.mycloudit/accounts":"2015-06-15","hive.streaming/services":"2016-03-18","lombiq.dotnest/sites":"2015-01-01","microsoft.bingmaps/mapapis":"2015-07-02","microsoft.notificationhubs/namespaces":"2014-09-01","microsoft.notificationhubs/namespaces/notificationhubs":"2014-09-01","microsoft.operationalinsights/workspaces":"2015-03-20","microsoft.powerbi/workspacecollections":"2016-01-29","microsoft.recoveryservices/vaults":"2015-11-10","microsoft.visualstudio/account/project":"2014-02-26","newrelic.apm/accounts":"2014-10-01","pokitdok.platform/services":"2016-05-17","raygun.crashreporting/apps":"2015-01-01","signiant.flight/accounts":
"2015-06-29","trendmicro.deepsecurity/accounts":"2015-06-15"};n.resourceGroupsInSubscriptionApi=l;n.resourceGroupApi=p;n.resourceApi=w;n.getLatestApiVersion=r}(or=t.Resources||(t.Resources={}))}(e||(e={})),e});define("HubsExtension/ArmHelpers/Models/ArmResourceGroup",["require","exports","f"],function(n,t,i){"use strict";var r;return function(t){function f(n){if(!n.id)return null;var i=n.tags||{},t=n.properties||{};return{id:n.id,location:n.location,name:n.name,tags:i,properties:t,lockState:t.lockState,provisioningState:t.provisioningState}}var r=i.Base,u=r.Diagnostics,e=u.createLog(n);t.toResourceGroup=f}(r||(r={})),r});define("HubsExtension/Notifications/EventSubscriptionService",["require","exports","f","../ArmHelpers/ArmApisStartup"],function(n,t,i,r){"use strict";var u;return function(n){function l(n,i){if(!n.operationNameRegex&&!n.source&&!n.status&&!n.subStatus)throw new Error("At least one criteria must be specified.");var r=h.getUniqueId();return t.push({cookie:r,criteria:n,callback:
i}),r}function a(n){var i=t.filter(function(t){return t.cookie!==n});t=i}function u(n,t){return!n==!t&&n.toLowerCase()===t.toLowerCase()}function v(n,t){var i=t.operationNameRegex,r;if(i&&(r=new RegExp(i,"ig"),!r.test(n.operationName)))return!1;var f=t.source,e=t.status,o=t.subStatus;return f&&!u(n.source,f)||e&&!u(n.status,e)||!c(o)&&!u(n.subStatus,o)?!1:!0}function y(n){for(var r,u=t.slice(),i=0,f=u.length;i<f;i++)r=u[i],v(n,r.criteria)&&r.callback(n,this)}function o(n,t){var i=n.stableSort(function(n,t){return e(n.timestamp)-e(t.timestamp)});i.forEach(y,t)}function p(n,t,i,r){var u="microsoft.resources",h=u+"/subscriptions/resourcegroups",e="/delete",s=function(t,i){o([{operationName:i,status:"succeeded",source:u,correlationId:null,timestamp:new Date,assetId:t,isLocalEvent:!0}],n)};return f.isResourceGroupId(r)?s(r,h+e):f.isResourceId(r)&&s(r,e),Q(!0)}var s=i.Base,h=s.Utilities,f=i.ViewModels.Services.ResourceTypes,c=i.isNullOrUndefined,e=i.toSeconds,w=r.mapAssetIdFromHubs,t=[];n.subscribeToArmEvent=
l;n.removeArmEventSubscription=a;n.matchEvents=o;n.createResourceDeletedEvent=p}(u||(u={})),u});define("HubsExtension/HubsCommon",["require","exports","f","h"],function(n,t,i){"use strict";var r;return function(n){function s(t){var i="";return t?(i=(t.status||t.state||"").toLowerCase(),!!~[n.subscriptionEnabledStatus,n.subscriptionActiveStatus,n.subscriptionWarnedStatus,n.subscriptionPastDueStatus].indexOf(i)):!1}function h(){return t||(t={},(o.fx.environment.armSubscriptionQuotaIds||[]).forEach(function(n){t[n.toLocaleLowerCase()]=!0})),t}var f=i.Base,e=f.Constants.ExtensionNames,o=window,r="ResourceGroup",u="Blade",t;n.extensionName=e.Hubs;n.marketplaceExtensionName=e.Marketplace;n.resourceGroupPartName=r+"MapPinnedPart";n.resourceGroupMapBlade=r+"Map"+u;n.resourceGroupEventsBlade=r+"Events"+u;n.deploymentDetailsBlade="DeploymentDetails"+u;n.subscriptionEnabledStatus="enabled";n.subscriptionActiveStatus="active";n.subscriptionWarnedStatus="warned";n.subscriptionDisabledStatus="disabled";
n.subscriptionPastDueStatus="pastdue";n.whatsNewFeedUriFormat=f.Resources.getAppRelativeUri("api/WhatsNew?count={0}");n.hasValidStatus=s;n.getArmSubscriptionQuotaIds=h}(r||(r={})),r});define("HubsExtension/Telemetry",["require","exports","f"],function(n,t,i){"use strict";var r;return function(n){function h(n,t){i.extendArrayIntoMap(n,t)}var t="Browse",c=t+"Blade",s="Create",l=s+"Deployment",u="Resource",r="Item",a="Type",f="Activated",e="Deactivated",v=u+"List"+r,o=u+"Map",y="Permissions",p="SetSelectedSubscriptions",w="Started",b,k,d;(function(n){h(n,[c,c+"Columns",s+"Hub","Gallery","HubsObservables",o,"Search"])})(b=n.Source||(n.Source={})),function(n){h(n,["ApplySearchFilter",t+w,t+r+f,t+r+e,t+a+f,t+a+e,t+"ColumnsSaved","Build"+u+"Cache","Check"+y,"ExecuteQuery","Get"+y,l+"End",l+"Start",s+"FlowLaunched","GetTenants","Initial"+p,"Set"+p,u+"CacheSize",v+f,v+e,o+w,o+r+f,o+r+e,])}(k=n.Action||(n.Action={})),function(n){h(n,["Canceled","Default","Failed","Search","Succeeded","UnknownError",
])}(d=n.ActionModifier||(n.ActionModifier={}))}(r||(r={})),r});define("HubsExtension/Common/HubsObservables",["require","exports","f","h","i","../ArmHelpers/ArmApisStartup","./AssetTypeCache","../ArmHelpers/Models/ArmResourceGroup","HubsExtension/Common/CommonClientStrings","../Notifications/EventSubscriptionService","../HubsCommon","../Telemetry","HubsExtension/SubscriptionsFilter/SubscriptionsFilterClientStrings","HubsExtension/Notifications/NotificationsClientStrings"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){"use strict";var y;return function(t){function r(n){return n.toLowerCase()}function gt(t,r){return i.require(n.normalize(t)).then(function(n){return r(n)})}function nu(n){ut.get(n)&&(clearTimeout(ut.get(n)),ut.set(n,null))}function tu(n){nu(n);ut.set(n,setTimeout(function(){ii(n)},wr))}function tr(n,t,i,r,u,f,e){u>r?i.reject("{0} failed. No more retry attempts.".format(n)):Q(t()).then(i.resolve,function(o){return rt("Retry {0}, Count {1}, Error {2}".format(n,u,d(o))),i.progress(),
setTimeout(function(){tr(n,t,i,r,u+1,f,e*(1+f))},e),Q(null)})}function ir(n,t,i,r,u){i===void 0&&(i=3);r===void 0&&(r=150);u===void 0&&(u=1);var f;return u<0&&nr.backoffNeg(),f=ar.Deferred(),tr(n,t,f,i,1,u,r),Q(f.promise())}function rr(){if(!bt){var n=function(){return w.Net2.ajax({uri:pr,type:"POST",dataType:"json",contentType:"application/json",isBackgroundTask:!0})};bt=ir("Getting tenants",n)}return bt}function ti(n,t){var i=r(n.status||""),u=r(t.status||"");if(i!==u){if(i===ni)return 1;if(u===ni)return-1}return n.subscriptionName.localeCompareIgnoreCase(t.subscriptionName)||n.subscriptionID.localeCompareIgnoreCase(t.subscriptionID)}function iu(n){var t=[],u="GetResourceGroups",e=ht(u),h=ci(et.slice(),function(n){var i=n.map(o.toResourceGroup).filter(function(n){return!!n});t=t.concat(i)},function(n){var t=n.api||"",f=n.reason||{},e=f.jqXHR||{},o=e&&e.status,s=o===0;s&&bi||(bi=s,yi(u+" failed for api: "+t+" reason: "+d(f)),!~[pt.Unauthorized,pt.Forbidden,pt.NotFound].indexOf(o)||i.remove(
et,function(n){return r(n||"")===r(t)}))},!0,n,f.makeResourceManagerTelemetry("HubsObservables.getResourceGroups")),s=!1;return h.then(function(){return ct(e),s=!0,t}).finally(function(){s||lt(e)})}function ru(n){var o=function(){return iu(n)},r=function(){return wi.then(function(){return ir("Getting resource groups",o).finally(function(){wi=Q.delay(br)})})},t,e;return et?r():(t=y(n).data().subscriptions.map(function(n){return n.subscriptionID}),e=t.map(function(r){return u.Security.hasPermission(yt.buildSubscriptionIdFromSubscriptionName(r),[dt+"/read"],n).then(function(n){n||i.remove(t,r)})}),Q.allSettled(e).then(function(){return et=t.map(f.Resources.resourceGroupsInSubscriptionApi),r()}))}function uu(n){var t=ft.get(n),r=t&&t.Subscriptions,u=r&&r.data(),f;u&&u.subscriptions&&(f=(t.SelectedSubscriptions.data()||[]).map(ri),r.data({subscriptions:i.union(f.stableSort(ti),u.subscriptions.stableSort(ti),function(n,t){return n.subscriptionID.localeCompareIgnoreCase(t.subscriptionID)===0}
)}))}function fu(n){return y(n).dataPromise.then(function(){return ei.getSelectedSubscriptions(nt.client,n).then(function(t){st(n).data(t);uu(n);g.trace({source:di,action:gi.InitialSelectedSubscriptions,data:{cloudName:n,count:t?t.length:-1}})})})}function eu(n){var r;if(t.loadDataFromServer){var f=y(n),u=!1,i=k(n);r=i.dataPromise;!r&&i.loadData&&(r=f.dataPromise.then(function(){return f.data().subscriptions.length?(u=!0,ru(n)):Q(null)}).then(function(n){i.data({resourceGroups:n});i.loadData=!1},function(){u=!1}).then(function(){u&&tu(n)}).finally(function(){i.dataPromise=null}),i.dataPromise=r)}return r||Q(null)}function ou(){return rr().then(function(n){return n.length})}function su(){var n=ht(gi.GetTenants);rr().then(function(t){ct(n,(t||[]).length);hi.updateTenantInfoEndPoint.invoke(nt.client,wt,{tenantList:t});pi=t.length},function(t){lt(n);yi("Failed for tenant info: "+d(t))});f.armEndpoints.forEach(function(n){var t=n.cloudName;ft.set(t,{Subscriptions:{dataPromise:null,data:tt({
subscriptions:[]}),map:{}},SelectedSubscriptions:{dataPromise:null,data:tt([])},ResourceGroups:{loader:eu,loadData:!0,dataPromise:null,data:tt({resourceGroups:[]})},SpecDataSet:{data:tt({})}});y(t).dataPromise=sr(t);st(t).dataPromise=fu(t)});h.subscribeToArmEvent({source:ki,operationNameRegex:dt+"/*"},function(n,t){var i=n.assetId;yt.isResourceGroupId(i)&&n.source===dt+"/delete"?r(n.status)===kr&&er(t,i):ii(t)})}function hu(n,t){vt.sharedObservablesEndPoint.registerObjectFactory(n,{allowedOrigin:null,allowRemoteChanges:!1,handler:function(n,i){return t(n,i.srcWindowId)}})}function cu(n,t){var r=vt.getDescriptor(t).cloudName,u=ft.get(r),i=u[n];if(i)return i.loader&&i.loader(r),i.data;nr.unknown(n)}function lu(n){return y(n).data}function au(n){return y(n).dataPromise}function ur(n,t){var r,u,i;return n&&(n=n.toUpperCase(),u=y(t),i=u.map,i&&(r=i[n])),r}function vu(n,t){if(!n)return Q.reject("Invalid subscription id "+n);var i=y(t);return i.dataPromise.then(function(){var i=ur(n,t);return i?
Q(i):Q.reject("Subscription with id "+n+" not found")})}function yu(n){return fr(n).then(function(t){return ei.getSelectedSubscriptions(nt.client,n).then(function(n){var i=n.length;return!i||i===t.length?a.allSubscriptionsSelectedText:i===1?n[0].uniqueDisplayName:a.multipleSubscriptionsSelectedText.format(i)})})}function pu(n){var t=st(n);return t.dataPromise.then(function(){return t.data})}function wu(n,t){st(n).data(t)}function fr(n){var t=y(n);return t.dataPromise.then(function(){return t.data().subscriptions.map(ui)})}function bu(n){var t=k(n);return t.loader(n),t.data}function ku(n){return kt?kt:kt=or(n).then(function(n){var t={};return i.extendArrayIntoMap(t,n,function(n){return n.name},function(n){return n.displayName}),t})}function du(n){return k(n).loader(n)}function ii(n){var t=k(n);t.loadData||(t.loadData=!0,t.loader(n))}function er(n,t){var r=k(n);r.loadData||(r.dataPromise||Q()).then(function(){var n=r.data;n({resourceGroups:i.remove(n().resourceGroups,function(n){return yt.
compareResourceGroupId(n.id,t)})})})}function gu(){e.primeRegisteredAssetTypesCache()}function or(n){var t="GetLocations",i=ht(t);return f.call(f.listLocationsApi(),"GET",undefined,!1,n,f.makeResourceManagerTelemetry("HubsObservables.getLocations")).then(function(n){return(ct(i),n&&n.value)?n.value:(rt("No locations?!"),[])},function(n){return lt(i),rt(t+" failure: "+d(n)),[]})}function ri(n){var t=n.subscriptionPolicies;return{subscriptionName:n.displayName,subscriptionID:n.subscriptionId,tenantID:n.tenantId,status:n.state,subscriptionPolicies:t,requireRdfe:nf(t),authorizationSource:n.authorizationSource}}function nf(n){return ai("rdfe")==="false"?!1:!n||!c.getArmSubscriptionQuotaIds()[(n.quotaId||"").toLocaleLowerCase()]}function sr(n){var t=[],i={},u=!1,e=nt.client,o=ht("GetSubscriptions"),s=ci([vr.list()],function(n){t=t.concat(n)},function(n){u=!0;i[n.api]=n.reason},!1,n,f.makeResourceManagerTelemetry("HubsObservables.fetchSubscriptions"));return s.then(function(){var g,h,v,l,f,a,
s,k;if(u)lt(o),g={title:p.title,description:p.error,timestamp:new Date,status:at.Error,cloudName:n},si.showModalNotification.invoke(e,wt,{notification:g,primaryButtonText:p.primaryButtonText,primaryButtonClickAction:2}),rt("Error getting subscriptions '{0}'.".format(d(i)));else{h=function(n,t){return n[t]=typeof n[t]=="undefined"?1:n[t]+1,n};ct(o,{cloudName:n,count:t.length,states:t.reduce(function(n,t){return h(n,r(t.state))},{}),quotaIds:t.reduce(function(n,t){return h(n,t.subscriptionPolicies&&t.subscriptionPolicies.quotaId&&r(t.subscriptionPolicies.quotaId))},{}),authorizationSources:t.reduce(function(n,t){return h(n,t.authorizationSource&&r(t.authorizationSource))},{})});var ut=t.length,c={subscriptions:[]},nt={};if(ut){if(vi("showremainingcredit")&&gt("./SubsCreditCheck",function(n){n.checkRemainingCredit(t)}),v=t.filter(function(n){return r(n.state)===yr}),v.length&&vi("showpastduewarning")&&gt("./PastDueSubsCheck",function(n){n.raiseWarningForPastDueSubs(v)}),l=ai("subscriptions"),
f=t,l){var b=f.length,tt=r(l),it=function(n,t){var i=r(n||"");return i.indexOf(t)!==-1};f=f.filter(function(n){return it(n.displayName,tt)||it(n.subscriptionId,tt)});a={status:at.Warning,title:p.filteredTitle,description:""};s=void 0;b?f.length?b===f.length?s=p.notFiltered:(a.status=at.Information,s=p.filtered):s=p.allFiltered:s=p.notFilterable;a.description=s.format(l,b,f.length);dr.internalPublish(a,n)}c.subscriptions=f.map(ri).stableSort(ti);c.subscriptions.map(ui).forEach(function(n){nt[n.subscriptionId.toUpperCase()]=n})}else w.Security.getUserInfo().then(function(t){gt("./NoSubsChecks",function(i){i.handleNoSubsInDirectory(t,pi,n)})});k=y(n);k.data(c);k.map=nt;hi.updateSubscriptionInfoEndPoint.invoke(e,wt,c)}})}function ui(n,t,i){var e=n.subscriptionID,u=n.subscriptionName,f=n.status&&r(n.status)===ni?s.disabledSubscriptionLabelFormat.format(u):u;return i.filter(function(n){return n.subscriptionName===u}).length>1&&(f=s.subscriptionNameAndIdLabelFormat.format(f,e)),{subscriptionId:
e,uniqueDisplayName:f,displayName:u,tenantId:n.tenantID,state:n.status,subscriptionPolicies:n.subscriptionPolicies,authorizationSource:n.authorizationSource}}var w=i.Base,hr=w.Constants,cr=i.ViewModels,fi=w.Diagnostics,g=fi.Telemetry,ei=u.Azure,lr=w.Resources,nt=w.Rpc.Internal,oi=i.Hubs.Notifications,at=oi.NotificationStatus,vt=u.Extension,si=u.Hubs.Notifications,hi=HubsExtension.Internal.Azure,ar=i.Helpers,vr=f.Subscriptions,yt=cr.Services.ResourceTypes,pt=w.Net2.HttpStatusCode,tt=ko.observable,ci=f.callWithContinuation,li=vt.CloudMap;t.loadDataFromServer=!0;var it=fi.createLog(n),ai=i.getFeatureValue,vi=i.isFeatureEnabled,rt=it.warning.bind(it),yi=it.error.bind(it),p=v.SubscriptionsNotification,yr=c.subscriptionPastDueStatus.toLowerCase(),wt=hr.Shell,bt,pr=lr.getAppRelativeUri("/api/tenants"),pi,ut=new li,kt,wr=9e5,br=6e4,wi=Q(),bi=!1,ki="microsoft.resources",dt=ki+"/subscriptions/resourcegroups",kr="succeeded";var ft=new li,et,ot=function(n){return ft.get(n)},y=function(n){return ot(
n).Subscriptions},st=function(n){return ot(n).SelectedSubscriptions},k=function(n){return ot(n).ResourceGroups},tf=function(n){return ot(n).SpecDataSet},di=l.Source.HubsObservables,gi=l.Action,ht=function(n){return g.startTrace({source:di,action:n})},ct=function(n,t){return g.completeTrace(n,t)},lt=function(n,t){return g.cancelTrace(n,t)},d=JSON.stringify,ni=c.subscriptionDisabledStatus,dr=si.InternalClientNotification,rf=oi.ClientNotification,b="",gr={unknown:b,getFailed:b,negPrice:b,notDecimal:b,badDecimal:b,backoffNeg:b},nr=u.getErrorMap(gr);t.getTenantsCount=ou;t.initializeObservables=su;t.registersObservables=hu;t.getObservable=cu;t.getSubscriptionsObservable=lu;t.getSubscriptionsPromise=au;t.getSubscriptionInfo=ur;t.getSubscriptionInfoPromise=vu;t.getSelectedSubscriptionsLabel=yu;t.getSelectedSubscriptions=pu;t.pingSelectedSubscriptionsList=wu;t.getSubscriptions=fr;t.getResourceGroupsObservable=bu;t.getLocationDisplayNames=ku;t.getResourceGroupsPromise=du;t.invalidateResourceGroups=
ii;t.removeResourceGroup=er;t.createRegisteredAssetTypeCache=gu;t.getLocations=or;t.toHubsExtensionSubscription=ri;t.fetchSubscriptions=sr;t.toMsPortalFxSubscription=ui}(y||(y={})),y});define("HubsExtension/ArmHelpers/ArmApis",["require","exports","f","./ArmApisStartup"],function(n,t,i,r){"use strict";var u;return function(t){var o=i.Base,kt=o.Constants,dt=o.Diagnostics,gt=FxImpl,ni=gt.AssetManager,ti=o.Rpc.Internal,ii=kt.Shell,h=i.ViewModels.Services.ResourceTypes,ri=o.Net2,it=r.Resources,rr=dt.createLog(n),a="$filter",ui=h.linkTagPrefix,fi="$top=1",f=r.armApiQueryParameter,ur=r.armApiVersion_april2014,b=r.armApiVersion_april2014Preview,ei=r.armApiVersion_july2014Preview,oi=r.armApiVersion_july2015,fr=r.resourceTypeApiVersion,rt=r.armApiVersionQueryStringRaw,s="?"+rt,p="&"+rt,ut=f+"="+ei,er="?"+ut,or="&"+ut,ft=f+"=2015-01-01",c="?"+ft,sr="&"+ft,et=f+"="+oi,hr="?"+et,cr="&"+et,si=f+"=2015-10-01",ot="?"+si,hi=r.armApiVersionQueryStringRawNov2015,v="?"+hi,st=r.armApiVersionQueryStringRawJune2016,
ci="?"+st,li="&"+st,ai=f+"=2016-02-01",vi="&"+ai,w=r.subscriptionsSegment,y=r.subscriptionIdPathFormatter,k=r.resourceGroupsSegment,e=r.providersSegment,l="/resources",d="/deployments",ht=r.resourceProviderWithSubscriptionFormatter,ct=e+"/Microsoft.Resources/links",lt="Microsoft.Portal/dashboards",yi="/"+lt,pi=["Microsoft.ClassicCompute/virtualMachines","Microsoft.ClassicCompute/domainNames","Microsoft.ClassicStorage/storageAccounts","Microsoft.ClassicNetwork/virtualNetworks","Microsoft.ClassicNetwork/reservedIps"],at="/Microsoft.ClassicCompute",wi=e+at,lr=r.applicationJson,g=" and ",nt="tagname eq '{0}'",vt="tagvalue eq '{0}'",yt="subscriptionId eq",pt="substringof('{0}', name)",bi="substringof('{0}', resourcegroup)",ki=yt+" '{0}'",tt="resourceType eq",wt=tt+" '{0}'",u=r.trimLeadingSpacesAndSlashes,di,bt,gi,nr,tr,ir;(function(n){function t(n){return y.format(n)+ci}function i(n){return(y+"/tagnames?$expand=tagvalues").format(n)+li}n.getSubscriptionApi=t;n.subscriptionTagsApi=i})(di=t.Subscriptions||
(t.Subscriptions={})),function(n){function i(n){return n?t.format(n)+s:e+s}function r(n){var i="?$expand=metadata"+vi;return n?t.format(n)+i:e+i}function u(n){return e+"/{0}".format(n)+s}function f(n,t){return ht.format(n,t)+"/register"+s}function o(n,t){return ht.format(n,t)+s}var t=y+e;n.listResourceProvidersApi=i;n.listResourceProvidersWithMetadataApi=r;n.getResourceProviderApi=u;n.registerResourceProvidersApi=f;n.getResourceProviderWithSubscriptionApi=o}(bt=t.ResourceProviders||(t.ResourceProviders={})),function(n){function t(n,t,i){return w+"/"+n+k+"/"+t+d+"/"+i}function i(n){return"/"+u(n)+d+v}function r(n){return"/"+u(n)+v}function f(n,t){return"/"+u(n)+e+"/microsoft.resources"+d+"/"+t+"/validate"+v}function o(n){return"/"+u(n)+"/cancel"+v}function s(n){return"/"+u(n)+"/operations"+v}function h(n){return"/"+u(n)+v}n.buildDeploymentUri=t;n.listDeploymentsApi=i;n.singleDeploymentApi=r;n.validateDeploymentApi=f;n.cancelDeploymentApi=o;n.deploymentOperationsApi=s;n.singleDeploymentOperationApi=
h}(gi=t.Deployments||(t.Deployments={})),function(n){function rt(n,t){var i=t.filter(function(n){return!!n}).join(g);i&&n.query.setParameter(a,i)}function ut(n,t){var i=t.filter(function(n){return!!n}).map(function(n){return"({0})".format(n)}).join(g);i&&n.query.setParameter(a,i)}function ft(n){return t.format(n)+s}function et(n){return"{0}{1}{2}".format(n,d,c)}function st(n,t){return"{0}{1}/{2}/{3}".format(n,d,t,c)}function ht(n){return"{0}{1}".format(n,c)}function ct(n){return"/"+u(n)+l+s}function lt(n,t){var i=w+"/"+u(n)+l+s;return!t||(i=i+"&"+fi),i}function yt(n){var t=new o.UriBuilder(v.format(n)),i=pi.map(function(n){return" "+tt+" '"+n+"'"});return t.query.setParameter(a,i.join(" or")),t.toString()+p}function kt(n,i,r){var u=new o.UriBuilder(t.format(n));return rt(u,[nt.format(i.replace("'","''")),r?vt.format(r.replace("'","''")):null]),u.toString()+p}function dt(n,t,i){var r=new o.UriBuilder(v.format(n));return rt(r,[nt.format(t.replace("'","''")),i?vt.format(i.replace("'","''")):
null]),r.toString()+p}function gt(n){return"/"+u(n)+"/moveresources"+c}function ei(n){return"/"+u(n)+"/validateMoveResources"+c}function oi(n){return"/"+u(n)+e+at+"/validateSubscriptionMoveAvailability"+ot}function si(n){return w+"/"+(u(n)+wi)+"/moveSubscriptionResources"+ot}function hi(n,i){return(t+"/{1}"+l).format(n,i)+s}function ci(n,t,i,r){var u=new o.UriBuilder(l),e=[n.map(function(n){return ki.format(n)}).join(" or "),t?wt.format(t.toLowerCase()):null,i?("("+pt+" or "+bi+")").format(i.toLowerCase().replace("'","''")):null];return r&&(e=e.concat(r)),u.query.setParameter(f,b),ut(u,e),u.toString()}function li(n,t,i){var s=n.resourceTypeName.split("/")[0],r=new o.UriBuilder(e+"/"+s+l),u=[n?wt.format(n.resourceTypeName.toLowerCase()):null,t?pt.format(t.toLowerCase().replace("'","''")):null];return i&&(u=u.concat(i)),r.query.setParameter(f,n.apiVersion||b),ut(r,u),r.toString()}function ai(n,t){return v.format(n)+"?"+a+"="+nt.format(ui+":"+t)+p}function vi(n,t){ni.hubsNotifyAssetDeletedDefinition.
invoke(ti.client,ii,{cloudName:n.cloudName,extensionName:n.extensionName,reason:"The query to '{0}' returned a 404.".format(t),assetId:n.assetId,assetType:n.assetType})}function yi(n){n=n.filter(function(n){return h.isResourceId(n.assetId)||h.isResourceGroupId(n.assetId)});var u={},t={},f=n.map(function(n){var i=n.cloudName,r=n.assetId,f=function(r){u[r]=n;t[i]||(t[i]=[]);t[i].push(r)};return h.isResourceGroupId(r)?(f(it.resourceGroupApi(r)),Q(!0)):it.resourceApi(r,i).then(function(n){f(n)})}),e=r.makeResourceManagerTelemetry("notifyIfResourcesDeleted");return Q.all(f).then(function(){var n=[];return i.forEachKey(t,function(t,i){for(i=i||[];i.length>0;){var f=i.splice(0,r.maxBatchCallCount);n.push(di(f,t,u,e))}}),Q.all(n).then(function(n){return n.reduce(function(n,t){return n.concat(t)},[])})})}function di(n,t,i,u){return r.callBatch(n,!1,t,u).then(function(t){for(var o,u,f,e=[],r=0;r<t.length;r++)o=t[r],u=n[r],o.httpStatusCode===ri.HttpStatusCode.NotFound&&(f=i[u],vi(f,u),e.push(f.assetId));
return e})}var d=bt.getResourceProviderApi("Microsoft.Authorization/locks").split("?").first(),t=y+k,v=y+l;n.resourceGroupsInSubscriptionApi=ft;n.locksOnResourceApi=et;n.createLockOnResourceApi=st;n.deleteLockOnResourceApi=ht;n.resourcesInResourceGroupApi=ct;n.resourcesInSubscriptionApi=lt;n.classicResourcesInSubscriptionApi=yt;n.resourceGroupsWithTag=kt;n.resourcesWithTag=dt;n.moveResourcesApi=gt;n.validateMoveResourcesApi=ei;n.validateSubscriptionMoveAvailabilityApi=oi;n.moveResourcesToSubscriptionApi=si;n.resourcesInResourceGroupByNameApi=hi;n.resourcesAcrossSubscriptionsApi=ci;n.tenantResourcesApi=li;n.resourcesLinkedToResourceApi=ai;n.notifyIfResourcesDeleted=yi}(nr=t.Resources||(t.Resources={})),function(n){function t(n){return"/"+u(n)+ct+c}function i(n){var t,i,r,f;return n=u(n),t="/"+n,h.isResourceGroupId(t)?(r=h.parseResourceGroupDescriptor(t),i=r.subscription):(f=h.parseResourceDescriptor(t),i=f.subscription),(y+ct+c+"&"+a+"=targetId eq '{1}'").format(i,n)}n.linksOfScopeApi=t;
n.linksToScopeApi=i}(tr=t.Links||(t.Links={})),function(n){function t(n,t){return typeof n=="string"?n+"?"+f+"="+t:w+"/"+n.subscriptionId+k+"/"+n.resourceGroupName+e+yi+"/"+n.dashboardName+"?"+f+"="+t}function i(n){var t=n.map(function(n){return yt+" '"+n+"'"}).join(" or "),i=a+"=("+t+")"+g+"("+tt+" '"+lt+"')";return l+"?"+i+"&"+f+"="+b}n.dashboardApi=t;n.allDashboardsApi=i}(ir=t.Dashboard||(t.Dashboard={}))}(u||(u={})),u});define("HubsExtension/ArmHelpers/Models/ArmResource",["require","exports","f"],function(n,t,i){"use strict";var r;return function(t){function e(n){var t=n.id;if(!t)return null;var i=n.properties||{},u=n.tags||{},f=!r.isTenantResource(t)&&r.buildResourceGroupIdFromResourceId(t);return{id:t,location:n.location,name:n.name,tags:u,properties:i,resourceGroup:f,type:n.type,kind:n.kind,selfLinkUri:n.selfLinkUri}}var u=i.Base,f=u.Diagnostics,r=i.ViewModels.Services.ResourceTypes,o=f.createLog(n);t.toResource=e}(r||(r={})),r});define("HubsExtension/Browse/BrowseCommon",["require",
"exports","f","h","HubsExtension/ArmHelpers/ArmApis"],function(n,t,i,r,u){"use strict";var f;return function(n){function p(n,i){n===void 0&&(n=0);var r=i||f.client;return l.invoke(r,t.Shell,null).then(function(n){if(!y){y=!0;var t=n.map(function(n){return{assetType:n.resourceTypeAssetTypeInformation.assetType,assetId:n.id,extensionName:n.resourceTypeAssetTypeInformation.extensionName,cloudName:n.cloudName}});return u.Resources.notifyIfResourcesDeleted(t).then(function(t){return t.forEach(function(t){n.remove(n.first(function(n){return e.isResourceId(n.id)&&e.isResourceId(t)&&e.compareResourceId(n.id,t)?!0:e.isResourceGroupId(n.id)&&e.isResourceGroupId(t)&&e.compareResourceGroupId(n.id,t)?!0:!1}))}),n})}return n}).catch(function(r){if(f.errorIsRpcTimeout(r,k,t.Shell)&&n<h)return p(n+1,i);throw r;})}function w(n){return n===void 0&&(n=0),a.invoke(f.client,t.Shell,null).catch(function(i){if(f.errorIsRpcTimeout(i,d,t.Shell)&&n<h)return w(n+1);throw i;})}function b(n,i,r,u){return u===void 0&&
(u=0),v.invoke(f.client,t.Shell,{cloudName:n.cloudName,extension:n.name,assetType:i,assetId:r}).catch(function(e){if(f.errorIsRpcTimeout(e,g,t.Shell)&&u<h)return b(n,i,r,u+1);throw e;})}function nt(n){if(o.indexOf(n)!==-1)throw new Error("Tried to register an MRU view twice");o.push(n)}function tt(n){if(o.indexOf(n)===-1)throw new Error("Tried to unregister an MRU view which was not registered");o.remove(n)}function it(){o.forEach(function(n){n.pingMruAssetsList()})}function rt(n,t,i,r,u,f,e,o){var s=[],h={added:f,deleted:e,retained:o},c=Function.call;t.subscribe(n,function(n){var l,t,f,e,v,o,a;for(i(),l=n.filter(u),t=ko.utils.compareArrays(s,l,!0),t=ko.utils.adjustArrayEdits(t),f=[t,null,0],e=0,v=t.length;e<v;e++)o=t[e],a=h[o.status],a&&(f[1]=o.value,f[2]=o.index,c.apply(a,f));r();s=l.slice(0)})}var c=i.Base,t=c.Constants,f=c.Rpc.Internal,s=r.RpcEndPoints.Mru,e=i.ViewModels.Services.ResourceTypes,h=3,l=s.getMruAssetsListEndPoint,k=l.getName(),a=s.clearMruAssetsListEndPoint,d=a.getName(
),v=s.removeMruAssetEndPoint,g=v.getName(),o=[],y=!1;n.getMruAssetsList=p;n.clearMruAssetsList=w;n.removeMruAsset=b;n.registerMruView=nt;n.unregisterMruView=tt;n.pingMruAssetsList=it;n.subscribeToArrayEdits=rt}(f||(f={})),f});define("HubsExtension/ResourceMap/ResourceMapCommon",["require","exports","f","h","i","../ArmHelpers/ArmApisStartup","../ArmHelpers/Models/ArmResourceGroup","../ArmHelpers/Models/ArmResource","../Common/HubsObservables","HubsExtension/ResourceMap/ResourceMapClientStrings"],function(n,t,i,r,u,f,e,o,s,h){"use strict";var c;return function(t){function w(t){return i.require(n.normalize("../ArmHelpers/ArmApis")).then(function(n){return t(n)})}function hi(n,t,i){wt.uncacheResourceGroup(t,n);bt.flushCache(n,t);switch(i){case 1:s.removeResourceGroup(n,t);break;case 2:s.invalidateResourceGroups(n)}}function ci(n){return n&&[0,v.Unauthorized,v.Forbidden,v.NotFound].indexOf(n.status)>=0}function vi(n){var t=ii.getUniqueId();return l[t]=n,t}function yi(n){l[n]&&delete l[n]}function pi(
n,t){st(l,function(i,r){r.resourceGroupDeleteStarted(n,t)})}function wi(n,t){st(l,function(i,r){r.resourceGroupDeleteFailed(n,t)})}function bi(n,t,i){if(t){var r=t,u=r.subscriptionId||r.subscriptionID,e=r.displayName||r.subscriptionName||u,o=ui.buildResourceGroupIdFromSubscriptionAndResourceGroupName(u,n),s=d(o);return ft.Internal.validateResourceGroupName(n,u,i,null,function(){var n=f.makeResourceManagerTelemetry("ResourceMap.validateResourceGroupName");return y(s,"GET",undefined,!1,i,n).then(function(){return et(ri.ResourceGroup.Validation.alreadyExistsMessage.format(e))},function(){return et()})})}return ft.validateResourceGroupName(n,null)}function kt(n,t,i,r){return k(f.callRaw(t,n,undefined,!1,undefined,i,r).then(function(n){var t=n.jqXHR;return{status:t.status,operationId:t.getResponseHeader("Location"),retryAfterInSeconds:parseInt(t.getResponseHeader("Retry-After"))}}),r)}function k(n,t){var i=Q(n);return i.catch(function(n){var i=u.Azure.buildSimplifiedError(n&&n.jqXHR||n);i=oi(
i,t,!0);throw i;})}var nt=i.Azure,c=i.Base,tt=c.Constants,dt=tt.AssetNames,gt=tt.ResourceTypes.ResourceGroups,ni=c.Diagnostics,it=c.Images,ti=it.Polychromatic,a=it.StatusBadge,v=c.Net2.HttpStatusCode,ii=c.Utilities,ri=i.Resources.Strings,rt=i.ViewModels,ui=rt.Services.ResourceTypes,r=nt.ResourceManager.DeploymentStates,ut=f.Resources,ft=nt.ResourceGroups,li,g,b,wt,ai,bt,l;t.resourceGroupAssetType=dt.ResourceGroups;t.resourceGroupResourceType=gt;t.resourceGroupResourceTypeLowerCase=t.resourceGroupResourceType.toLowerCase();t.resourceGroupIconImage=ti.ResourceGroup();var et=rt.getValidationResult,fi=window,ei=fi.fx.environment,ki=ni.createLog(n),di=ei.isDevelopmentMode,ot="\\s~!@#$%^&*+=<>,\\?/\\\\\\:;'\"\\[\\]\\{\\}\\|",gi=new RegExp("^[^"+ot+"]*[^."+ot+"]$","i"),st=i.forEachKey,oi=c.Utilities.extend,d=ut.resourceGroupApi,si=ut.resourceApi,y=f.call,p=s.getLocationDisplayNames,ht=r.Running,ct=r.Deploying,lt=r.Accepted,at=r.Canceled,vt=r.Failed,yt=r.Deleting,pt=r.Succeeded;t.deploymentStatusIconLookup=
{};t.deploymentStatusIconLookup[ht]=t.deploymentStatusIconLookup[ct]=t.deploymentStatusIconLookup[lt]=t.deploymentStatusIconLookup[r.Waiting]=a.Pending();t.deploymentStatusIconLookup[at]=a.Canceled();t.deploymentStatusIconLookup[vt]=a.Error();t.deploymentStatusIconLookup[yt]=a.Disabled();t.deploymentStatusIconLookup[pt]=a.Success();t.deploymentStatusDisplayTextLookup={};t.deploymentStatusDisplayTextLookup[ht]=t.deploymentStatusDisplayTextLookup[ct]=h.deploymentRunningState;t.deploymentStatusDisplayTextLookup[lt]=h.deploymentAcceptedState;t.deploymentStatusDisplayTextLookup[at]=h.deploymentCanceledState;t.deploymentStatusDisplayTextLookup[vt]=h.deploymentFailedState;t.deploymentStatusDisplayTextLookup[yt]=h.deploymentDeletingState;t.deploymentStatusDisplayTextLookup[pt]=h.deploymentSucceededState;t.DeleteResourceGroupConfigType="ResourceGroupDeleteWarningPartViewModel_DeleteResourceGroupConfig";i.Data.Metadata.setTypeMetadata(t.DeleteResourceGroupConfigType,{name:t.DeleteResourceGroupConfigType,
properties:{resourceGroup:null,resourceGroupName:null},entityType:!0});t.invalidateCaches=hi;t.isExpectedResourceManagerError=ci,function(n){n.ResourceMap="ResourceMap";var t;(function(n){n.OpenedBlade="OpenedBlade";n.ResultOpened="ResultOpened"})(t=n.Action||(n.Action={}))}(li=t.Telemetry||(t.Telemetry={}));g=1e4;b=function(){function n(n){this._cache={};this._timeout=n}return n.prototype.store=function(n,t){return this._cache[n]={value:t,accessTime:Date.now()},t},n.prototype.remove=function(n){delete this._cache[n]},n.prototype.fetch=function(n){var t=this._cache[n];if(t){if(t.accessTime>=Date.now()-this._timeout)return t.value;delete this._cache[n]}return null},n.prototype.touch=function(n){var t=this._cache[n];t&&(t.accessTime=Date.now())},n.prototype.trim=function(){var n=this,t=Date.now()-this._timeout;i.forEachKey(this._cache,function(i,r){r.accessTime<t&&delete n._cache[i]})},n.prototype.flushCache=function(){this._cache={}},n.prototype.flushCacheWithPrefix=function(n){var t=this;
i.forEachKey(this._cache,function(i){i.startsWith(n)&&delete t._cache[i]})},n}();t.Cache=b,function(n){function o(n,u,f){var s=((u||"")+":"+n).toLowerCase(),o,h,c;return(r.trim(),o=r.fetch(s),o)?o:(h=d(n),c=k(y(h,"GET",null,!1,u,f).then(function(t){return t.id=t.id||n,e.toResourceGroup(t)}),f),r.store(s,c).catch(function(r){r&&r.status===v.NotFound&&i.UI.AssetManager.notifyAssetDeleted(t.resourceGroupAssetType,n);throw r;}))}function s(t,i,r){return n.getResourceGroup(t,i,r).then(function(n){return p(i).then(function(t){return u(n,t)})})}function h(n){n?r.flushCacheWithPrefix(n+":"):r.flushCache()}function c(n,t){var i=((t||"")+":"+n).toLowerCase();r.remove(i)}function l(n,t){var i=f.makeResourceManagerTelemetry("ResourceMap.deleteResourceGroup");return kt("DELETE",d(n),t,i)}function u(n,t,i){i===void 0&&(i=!1);var r=n.location||"",u=t[r.toLowerCase()]||r,f=i?{locationString:ko.observable(u)}:{locationString:u};return $.extend(f,n)}var r=new b(g);n.getResourceGroup=o;n.getResourceGroupWithStrings=
s;n.flushCache=h;n.uncacheResourceGroup=c;n.deleteResourceGroup=l;n.mapResourceGroupToResourceGroupWithStrings=u}(wt=t.ResourceGroupClient||(t.ResourceGroupClient={})),function(n){function t(n,t){var i=f.makeResourceManagerTelemetry("ResourceMap.getOperationResponse");return kt("GET",n,t,i)}n.getOperationResponse=t}(ai=t.ResourceManagerOperationsClient||(t.ResourceManagerOperationsClient={})),function(n){function i(n,t,i){var r=[];return k(f.callWithContinuation([n],function(n){var t=n.map(o.toResource).filter(function(n){return!!n});r=r.concat(t)},function(n){throw n;},!1,t,i).then(function(){return r}),i)}function u(n,i,r){var u=((i||"")+":"+n).toLowerCase(),f=t.fetch(u),e;return f?f:(e=si(n,i).then(function(t){return k(y(t,"GET",null,!1,i,r).then(function(t){return t.id=t.id||n,o.toResource(t)}),r)}),t.store(u,e))}function e(t,i,u){return n.getResource(t,i,u).then(function(n){return p(i).then(function(t){return r(n,t)})})}function s(n,t,r){return w(function(u){var f=u.Resources.resourcesInResourceGroupApi(
n);return i(f,t,r)})}function h(n,t,r,u){return w(function(f){var e=f.Resources.resourcesInSubscriptionApi(n,u);return u?y(e,"GET",null,!1,t,r).then(function(n){return n.value&&n.value.map(o.toResource).filter(function(n){return!!n})}):i(e,t,r)})}function c(n,t,r){return w(function(u){var f=u.Resources.classicResourcesInSubscriptionApi(n);return i(f,t,r)})}function l(t,i,u){return n.getResourcesInResourceGroup(t,i,u).then(function(n){return p(i).then(function(t){return n.map(function(n){return r(n,t)})})})}function a(n,t,r,u){return w(function(f){var e=f.Resources.resourcesLinkedToResourceApi(n,t);return i(e,r,u)})}function v(t,i,u,f){return n.getResourcesLinkedToResource(t,i,u,f).then(function(n){return p(u).then(function(t){return n.map(function(n){return r(n,t)})})})}function d(n,i){n?t.flushCacheWithPrefix((n+":"+(i||"")).toLowerCase()):t.flushCache()}function nt(n,i){var r=((i||"")+":"+n).toLowerCase();t.remove(r)}function r(n,t,i){i===void 0&&(i=!1);var r=n.location||"",u=t[r.toLowerCase(
)]||r,f=n.name.split("/").last(),e=i?{locationString:ko.observable(u),trimmedName:ko.observable(f)}:{locationString:u,trimmedName:f};return $.extend(e,n)}var t=new b(g);n.getResource=u;n.getResourceWithStrings=e;n.getResourcesInResourceGroup=s;n.getResourcesInSubscription=h;n.getClassicResourcesInSubscription=c;n.getResourcesInResourceGroupWithStrings=l;n.getResourcesLinkedToResource=a;n.getResourcesLinkedToResourceWithStrings=v;n.flushCache=d;n.uncacheResource=nt;n.mapResourceToResourceWithStrings=r}(bt=t.ResourceClient||(t.ResourceClient={}));l={};t.registerResourceGroupDeleteWatcher=vi;t.unregisterResourceGroupDeleteWatcher=yi;t.notifyResourceGroupDeleting=pi;t.notifyResourceGroupDeleteFailed=wi;t.validateResourceGroupName=bi}(c||(c={})),c});define("HubsExtension/BrowseResource/BrowseResourceCommon",["require","exports","f","h","../Browse/BrowseCommon","../ResourceMap/ResourceMapCommon","../Notifications/EventSubscriptionService","../ArmHelpers/ArmApisStartup"],function(n,t,i,r,u,f,
e,o){"use strict";var s;return function(n){function st(n,t){return t?n.name.toLowerCase().indexOf(t.trim().toLowerCase())!==-1:!0}function ht(n,i,r){return n.format({resourceId:encodeURIComponent(i),name:encodeURIComponent(t.parseResourceDescriptor(i).resource),type:encodeURIComponent(t.parseResourceDescriptor(i).type),provider:encodeURIComponent(t.parseResourceDescriptor(i).provider),resourceGroup:encodeURIComponent(t.parseResourceDescriptor(i).resourceGroup),subscriptionId:encodeURIComponent(t.parseResourceDescriptor(i).subscription),locationId:encodeURIComponent(r)})}function ct(n,i){return t.isResourceGroupId(n.id)&&t.isResourceGroupId(i.id)?t.compareResourceGroupId(n.id,i.id):t.isResourceId(n.id)&&t.isResourceId(i.id)?t.compareResourceId(n.id,i.id):l.toSortedString(n.id)!==l.toSortedString(i.id)?!1:n.assetType!==i.assetType?!1:n.extensionName===i.extensionName}function p(n,t,i){n.storeResource(i);i.kind&&n.storeKind(i.kind);n.storeDefaultIcon(t)}function lt(n){var u=n.mruEntry,s=u.
id,e=u.resourceTypeAssetTypeInformation,i;e.resourceType?(i=void 0,i=t.isResourceId(n.mruEntry.id)?Q(n.mruEntry.id):ut.mapAssetIdToResourceId({extensionName:n.mruEntry.resourceTypeAssetTypeInformation.extensionName,assetType:n.mruEntry.resourceTypeAssetTypeInformation.assetType,assetId:n.mruEntry.id}),n.storeKindPromise(i.then(function(t){var i=t.toLowerCase(),u=r.fetch(i);if(u){p(n,t,u);return}return tt.getPromiseFromPool(n).then(function(n){var u=n.value,e=o.makeResourceManagerTelemetry("Browse.getKindForMru:"+u.sourceKeyForTelemetry);return f.ResourceClient.getResource(t,u.mruEntry.cloudName,e).then(function(n){r.store(i,n);p(u,t,n)}).catch(function(){u.storeDefaultIcon()}).finally(function(){n.release()})})},function(){n.storeDefaultIcon()}))):n.storeDefaultIcon()}function at(n){var t=n||it.client,i=new nt;return i.attachEventWatch(et,{resourceGroupDeleted:function(n,i,r){r||v.invoke(t,h.Shell,{cloudName:i,extensionName:null,reason:"The event service notified resource group deleted.",
assetId:n,assetType:c.resourceAssetType})},resourceDeleted:function(n,i,r){r||v.invoke(t,h.Shell,{cloudName:i,extensionName:null,reason:"The event service notified resource deleted.",assetId:n,assetType:c.resourceAssetType})}}),i}var s=i.Base,it=s.Rpc.Internal,l=s.Utilities,rt=i.ViewModels,t=rt.Services.ResourceTypes,ut=i.Assets,h=s.Constants,a=h.ResourceTypes,ft=a.ResourceGroups,et=a.AllResources,ot=FxImpl,c=ot.AssetManager,v=c.hubsNotifyAssetDeletedDefinition,y,r,tt;n.tagColumnIdSeparator=":";n.tagColumnIdPrefix="tag"+n.tagColumnIdSeparator;n.ResourcesProviderName="microsoft.resources";n.filterMruEntry=st;n.buildInstanceLink=ht;n.matchBrowseItems=ct;y=72e5;r=new f.Cache(y);u.registerMruView({pingMruAssetsList:function(){r.trim()}});n.getResourceKindForMruItem=lt;n.watchForResourceDeletes=at;var w="/write",b=n.ResourcesProviderName+"/subscriptions/resourcegroups/write",k="/delete",d=n.ResourcesProviderName+"/subscriptions/resourcegroups/delete",g="succeeded",nt=function(){function n()
{}return n.prototype.attachEventWatch=function(n,i){var r,u,f;this.disposeEventWatcher();r=w;u=k;n===ft&&(r=b,u=d);f=function(n,i,r,u){return e.subscribeToArmEvent({source:null,operationNameRegex:n},function(n,f){var e,o;n.operationName.toLowerCase()===i&&n.status.toLowerCase()===g?(e=n.assetId,t.isResourceGroupId(e)&&u.resourceGroupCallback&&u.resourceGroupCallback(e,f,!!n.isLocalEvent)):n.operationName.toLowerCase().endsWith(r)&&n.status.toLowerCase()===g&&(o=n.assetId,t.isResourceId(o)&&u.resourceCallback&&u.resourceCallback(o,f,!!n.isLocalEvent))})};(i.writeToResourceGroup||i.writeToResource)&&(this._writeEventSubscription=f(r,b,w,{resourceGroupCallback:i.writeToResourceGroup,resourceCallback:i.writeToResource}));(i.resourceGroupDeleted||i.resourceDeleted)&&(this._deleteEventSubscription=f(u,d,k,{resourceGroupCallback:i.resourceGroupDeleted,resourceCallback:i.resourceDeleted}))},n.prototype.disposeEventWatcher=function(){this._writeEventSubscription&&(e.removeArmEventSubscription(this.
_writeEventSubscription),this._writeEventSubscription=null);this._deleteEventSubscription&&(e.removeArmEventSubscription(this._deleteEventSubscription),this._deleteEventSubscription=null)},n}();n.ArmEventWatcher=nt,function(n){function i(n){return t>=r?Q.delay(100).then(function(){return i(n)}):(++t,Q({value:n,release:function(){--t}}))}var t=0,r=8;n.getPromiseFromPool=i}(tt=n.PromisePool||(n.PromisePool={}))}(s||(s={})),s});define("HubsExtension/_generated/ExtensionDefinition",["require","exports","i","HubsExtension/MoveResource/MoveResourceStrings","HubsExtension/ClassicAdmins/ManagementTeamClientStrings","HubsExtension/Tags/TagsClientStrings","HubsExtension/ServicesHealth/ServicesHealthClientStrings","HubsExtension/ResourceMap/ResourceMapClientStrings","HubsExtension/Locks/LocksClientStrings","HubsExtension/Browse/BrowseClientStrings"],function(n,t,i,r,u,f,e,o,s,h){"use strict";var c;return function(n){function a(){var w=l.createAssetIdSource,b=l.createPermission,v=l.createCommandGroupDefinition,
c=l.createPartReferenceDefinition2,a=l.createPartInstanceDefinition,p=l.createDetailsDefinition,n=l.createReference,i=l.createInputBinding,y=l.createCommandDefinition,k=l.createDefinition3;return k(t,[y("MoveResourceCommand",r.moveResourceCommandText,"MoveResource$MoveResourceCommandVM",[i("resourceId",[n(1,"resourceId")],!1)],p("MoveResourceBlade",t,t,t,t,[i("resourceId",[n(4,"content.resourceId")],!1)],[i("moveType",[n(4,"content.moveType")],!1)],[i("actionBarOutput",[n(1,"actionBarOutput")],!1)]),t,t,t,2)],[a("Browse",c("BrowseAllResourcesPinnedPart",t,t,[],4),t,!1),a("ServicesHealthPartStart",c("ServicesHealthPart",t,t,[],3),t,!1),a("GalleryTileStart",c("GalleryTile",t,t,[i("selectedMenuItemId",[n(5,"constant_",t,t,t,"")],!0)],2),t,!1),a("HelpAndSupport",c("HelpAndSupportPart",t,t,[],2),t,!1),a("GettingStarted",c("GettingStartedPart",t,t,[],5,t,5,4),t,!1),a("Diagnostics",c("DiagnosticsTile",t,t,[],0),t,!1),a("TourTileStart",c("TourTile",t,t,[],2),t,!1),a("Settings",c("SettingsBladePart",
t,t,[],1),t,!1),a("BillingTileStart",c("SubscriptionsTile",t,t,[],0),t,!1),a("WhatsNewTileStart",c("WhatsNewTile",t,t,[],2),t,!1),a("FeedbackTileStart",c("FeedbackTile",t,t,[],1),t,!1),a("AzurePortalTileStart",c("AzurePortalTile",t,t,[],1),t,!1)],[v("serviceCommandGroup",[]),v("RecentResourceBrowseGrid2Commands",[y("DiscardRecentResource",h.discardRecentItem,"BrowseGrid2$DiscardRecentResourceCommand",[i("id",[n(1,"id")],!1),i("assetType",[n(1,"assetType")],!0),i("extensionName",[n(1,"extensionName")],!0)],t,t,t,t,0)]),v("RecentResourceBrowseCommands",[y("DiscardRecentResource",h.discardRecentItem,"BrowseResource$DiscardRecentResourceCommandViewModel",[i("assetId",[n(1,"id")],!1),i("assetType",[n(1,"browse_assetTypeName")],!1),i("extension",[n(1,"browse_assetTypeExtension")],!1)],t,t,t,t,0)]),v("BrowseResourceGroupCommandGroup",[]),v("ManagementTeamCommandGroup",[y("ManageUsersCommand",u.manageUsersCommandText,"ClassicAdmins$ManageUsersCommand",[],t,t,t,t,1)]),v("LockCommands",[y("Delete",
s.delete,"Locks$DeleteLockCommandViewModel",[i("id",[n(1,"id")],!1)],t,t,t,t,0)]),v("MoveResourceCommands",[y("MoveResourceCommand",r.moveResourceCommandText,"MoveResource$MoveResourceCommandVM",[i("resourceId",[n(1,"resourceId")],!1)],p("MoveResourceBlade",t,t,t,t,[i("resourceId",[n(4,"content.resourceId")],!1)],[i("moveType",[n(4,"content.moveType")],!1)],[i("actionBarOutput",[n(1,"actionBarOutput")],!1)]),t,t,t,2)]),v("ResourceGroupBrowseCommands",[y("OpenResourceGroupDeleteBlade",o.deleteResourceGroupCommandTitle,"ResourceMap$DeleteResourceGroupCommandViewModel",[i("resourceGroup",[n(1,"id")],!1)],p("ResourceGroupDeleteBladeForCommand",t,t,t,t,t,[i("resourceGroup",[n(4,"content.resourceGroup")],!1)],[i("actionBarOutput",[n(1,"actionBarOutput")],!1)]),"ResourceGroups","resourceGroup",[b(t,"ResourceGroups",w(0,"resourceGroup"),"Microsoft.Resources/subscriptions/resourceGroups/delete",0)],2)]),v("ServiceHealth",[y(t,e.ServiceHealth.uriCommandTitle,"ServicesHealth$PublicShdUriCommand",
[],t,t,t,t,1)]),v("AddTagCommandGroup",[y("AddTagCommand",f.addCommandText,"Tags$SaveTagCommand",[],t,t,t,t,0)]),v("TagItemCommandGroup",[y("DeleteTagCommand",f.deleteCommandText,"Tags$DeleteTagCommand",[i("key",[n(1,"key")],!1),i("value",[n(1,"value")],!1),i("resourceId",[n(1,"resourceId")],!1),i("allowEdits",[n(1,"allowEdits")],!1)],t,t,t,t,0)])],{},[".ext-info-tile{position:relative}.ext-tile-mini .ext-tile-image,.ext-tile-small .ext-tile-image{width:30px;height:30px}.ext-tile-normal .ext-tile-image{width:50px;height:50px}.ext-info-tile .ext-tile-image{position:absolute;top:18px;left:20px;width:50px;height:50px}.ext-info-tile .ext-tile-title{position:absolute;top:35px;left:87px;width:auto}a.ext-info-tile{display:block}.ext-info-tile.ext-tile-mini .ext-tile-image{top:19px;left:39px;width:30px;height:30px}.ext-info-tile.ext-tile-mini .ext-tile-title{width:100%;text-align:center;left:0;top:60px}.ext-info-tile.ext-tile-normal .ext-tile-image{top:48px;left:61px}.ext-info-tile.ext-tile-normal .ext-tile-title{top:112px;left:0;width:100%;text-align:center}.ext-whatsNew-content{margin:3px 0}.ext-whatsNew-published{margin:2px 0}.ext-whatsNew-divider{margin:15px 0}.ext-whatsNew-feedLoadFailed{margin-top:75px}.ext-whatsNew-feedLoadFailed .ext-whatsNew-failed-text{width:215px;margin-left:30px}.ext-whatsNew .ext-video-section>video{width:535px;height:301px;margin-bottom:10px}",
".ext-hubs-picker-grid-details-parent{vertical-align:middle}.ext-hubs-picker-grid-details{margin-top:6px}.ext-hubs-picker-grid-text-subheader{margin-top:2px}.ext-hubs-specPicker-container{width:100%}.ext-hubs-specPicker-container .ext-hubs-specPicker-enterpriseAgreementMessage{margin:10px;margin-top:0;border-left:6px solid #ffb900;padding-left:10px}",".ext-map>div{position:absolute;left:0;top:0}.ext-map>div>div{position:absolute;width:9px;height:9px}.ext-blademap{padding-bottom:20px}.ext-servicespart>.ext-map{position:absolute;left:0;top:0;right:0;bottom:0}.ext-servicespart.ext-tilesize-large>.ext-map>div>div{width:11px;height:11px}.ext-servicespart.ext-tilesize-herowide>.ext-map>div>div{width:14px;height:14px}.ext-servicespart.ext-tilesize-wide>.ext-map>div>div{width:11px;height:11px}.ext-servicespart:not(.ext-tilesize-mini)>.ext-content-overlay{position:absolute;left:0;top:0;right:0;bottom:0}.ext-servicespart>.ext-content-overlay>.ext-icon{width:30px;height:30px}.ext-servicespart.ext-tilesize-normal>.ext-content-overlay>.ext-icon{position:absolute;top:48px;left:47px;width:50px;height:50px}.ext-servicespart.ext-tilesize-small>.ext-content-overlay>.ext-icon{position:absolute;bottom:0;right:0}.ext-servicespart.ext-tilesize-small>.ext-content-overlay>.ext-subtitle{margin-right:30px}.ext-servicespart>.ext-content-overlay>.ext-summary{position:absolute;bottom:-4px;text-align:left;width:100%}.ext-servicespart>.ext-content-overlay>.ext-summary>div{display:inline-block}.ext-servicespart.ext-tilesize-mini>.ext-content-overlay>.ext-title{position:absolute;top:41px;left:2px;right:2px;text-align:center;height:20px;overflow:hidden}.ext-servicespart.ext-tilesize-mini>.ext-content-overlay>.ext-icon{position:absolute;left:25px;top:4px}.ext-incidentspart .ext-incidenttime{margin:18px 0 4px}.ext-noIncidents div:first-child{height:50px;width:50px}.ext-noIncidents div:last-child{position:absolute;left:70px;top:0;right:20px}td.ext-servicespart-statuscolumn{text-align:center}td.ext-servicespart-statuscolumn svg{margin-top:7px;width:12px;height:12px}.ext-servicespart-icon.ext-tilesize-mini{width:30px;height:33px;margin-left:24px}.ext-servicespart-icon.ext-tilesize-small{width:30px;height:30px;margin-left:100px;margin-top:-15px}.ext-servicespart-shorttitle{text-transform:uppercase;margin:3px 5px;max-height:22px;overflow:hidden;text-align:center}.ext-servicespart-grid table tbody tr td{height:27px}.ext-servicespart-grid-more-data{text-align:right}.ext-servicespart-map.ext-tilesize-large{margin-left:-32px;margin-bottom:10px}.ext-servicespart-map.ext-tilesize-herowide{margin-top:-18px;margin-bottom:-30px}.ext-servicespart-map.ext-tilesize-wide{margin-top:-18px;margin-left:110px}.ext-servicespart-globalmessage{position:absolute;bottom:-30px}.ext-servicespart-messageIcon{width:15px;height:15px;display:inline-block}.ext-servicespart-message.ext-tilesize-large{vertical-align:top;display:inline-block;width:300px}.ext-servicespart-message.ext-tilesize-herowide{vertical-align:top;display:inline-block;width:460px}.ext-servicespart-message.ext-tilesize-wide{vertical-align:top;display:inline-block;width:250px}",
".ext-hubs-armerrors-topheader{margin:15px 0}.ext-hubs-armerrors-treeheader{margin:30px 0 15px}.ext-hubs-armerrors-parent{white-space:normal}.ext-hubs-armerrors-child{display:-webkit-flex;display:flex;white-space:normal}.ext-hubs-armerrors-child-adorn{margin-right:5px}.ext-hubs-armerrors-feedback{border-top:1px solid rgba(255,255,255,.2);color:rgba(255,255,255,.7);display:-webkit-flex;display:flex;padding:7px 0 10px 27px;text-transform:uppercase;width:calc(100% - 27px)}.ext-hubs-armerrors-feedback-icon{display:inline-block;margin:-1px 0 0 7px;height:16px;width:16px;cursor:pointer}.ext-hubs-armerrors-feedback-icon-down{margin:3px 0 0 5px}.ext-hubs-armerrors-feedback-disabled{opacity:.3;cursor:default}"],t,t,"HubsExtension","1.0","47DEQpj8HBSa+/TImW+5JCeuQeRkm5NMpJWZG3hSuFU=%","1.0.0.2","5.0.302.499 (production#688a441.160924-1717)")}var t=undefined,l=i.DefinitionBuilder,v,c,y,p,w;n.definitionName="HubsExtension";n.getDefinition=a,function(n){var t,i,r,u;(function(n){n.name="Microsoft_Azure_Insights"}
)(t=n.Microsoft_Azure_Insights||(n.Microsoft_Azure_Insights={})),function(n){n.name="Microsoft_Azure_Monitoring";var t;(function(n){var t,i,r,u,f,e,o,s;(function(n){n.name="EventsBrowseBlade"})(t=n.EventsBrowseBlade||(n.EventsBrowseBlade={})),function(n){n.name="DiagnosticsLogsBlade"}(i=n.DiagnosticsLogsBlade||(n.DiagnosticsLogsBlade={})),function(n){n.name="OverviewBlade";var t;(function(n){n.queryInputs="queryInputs"})(t=n.Inputs||(n.Inputs={}))}(r=n.OverviewBlade||(n.OverviewBlade={})),function(n){n.name="AlertsBlade"}(u=n.AlertsBlade||(n.AlertsBlade={})),function(n){n.name="MetricsBlade";var t;(function(n){n.queryInputs="queryInputs"})(t=n.Inputs||(n.Inputs={}))}(f=n.MetricsBlade||(n.MetricsBlade={})),function(n){n.name="OmsSolutionsBlade";var t;(function(n){n.queryInputs="queryInputs"})(t=n.Inputs||(n.Inputs={}))}(e=n.OmsSolutionsBlade||(n.OmsSolutionsBlade={})),function(n){n.name="ApplicationInsightsBlade";var t;(function(n){n.queryInputs="queryInputs"})(t=n.Inputs||(n.Inputs={})
)}(o=n.ApplicationInsightsBlade||(n.ApplicationInsightsBlade={})),function(n){n.name="ServiceDiagnosticsSettingsUpdateBlade";var t;(function(n){n.diagnosticsSettingsInputs="diagnosticsSettingsInputs"})(t=n.Inputs||(n.Inputs={}))}(s=n.ServiceDiagnosticsSettingsUpdateBlade||(n.ServiceDiagnosticsSettingsUpdateBlade={}))})(t=n.Blades||(n.Blades={}))}(i=n.Microsoft_Azure_Monitoring||(n.Microsoft_Azure_Monitoring={})),function(n){n.name="Microsoft_Azure_Billing";var t;(function(n){var t,i,r,u;(function(n){n.name="SubscriptionsBlade"})(t=n.SubscriptionsBlade||(n.SubscriptionsBlade={})),function(n){n.name="AccountBlade"}(i=n.AccountBlade||(n.AccountBlade={})),function(n){n.name="BillingNoSubscriptionsBlade"}(r=n.BillingNoSubscriptionsBlade||(n.BillingNoSubscriptionsBlade={})),function(n){n.name="UpgradeSubscriptionBlade";var t;(function(n){n.subscriptionId="subscriptionId"})(t=n.Inputs||(n.Inputs={}))}(u=n.UpgradeSubscriptionBlade||(n.UpgradeSubscriptionBlade={}))})(t=n.Blades||(n.Blades={}))}
(r=n.Microsoft_Azure_Billing||(n.Microsoft_Azure_Billing={})),function(n){n.name="Microsoft_Azure_AD";var t;(function(n){var t,i,r,u;(function(n){var t,i;n.name="SelectMember",function(n){n.collectorBindingInternals_inputs="collectorBindingInternals-inputs";n.collectorBindingInternals_errors="collectorBindingInternals-errors";n.stepInput="stepInput"}(t=n.Inputs||(n.Inputs={})),function(n){n.collectorBindingInternals_outputs="collectorBindingInternals-outputs";n.collectorBindingInternals_commit="collectorBindingInternals-commit";n.stepOutput="stepOutput"}(i=n.Outputs||(n.Outputs={}))})(t=n.SelectMember||(n.SelectMember={})),function(n){n.name="SelectMemberV3";var t;(function(n){n.title="title";n.subtitle="subtitle"})(t=n.Inputs||(n.Inputs={}))}(i=n.SelectMemberV3||(n.SelectMemberV3={})),function(n){n.name="RolesListBlade";var t;(function(n){n.scope="scope"})(t=n.Inputs||(n.Inputs={}))}(r=n.RolesListBlade||(n.RolesListBlade={})),function(n){n.name="UserAssignmentsBlade";var t;(function(n)
{n.scope="scope"})(t=n.Inputs||(n.Inputs={}))}(u=n.UserAssignmentsBlade||(n.UserAssignmentsBlade={}))})(t=n.Blades||(n.Blades={}))}(u=n.Microsoft_Azure_AD||(n.Microsoft_Azure_AD={}))}(v=n.External||(n.External={})),function(n){var t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt;(function(n){n.name="ArmExplorer"})(t=n.ArmExplorer||(n.ArmExplorer={})),function(n){n.name="BrowseAll"}(i=n.BrowseAll||(n.BrowseAll={})),function(n){n.name="BrowseAllWithType"}(r=n.BrowseAllWithType||(n.BrowseAllWithType={})),function(n){n.name="BrowseService"}(u=n.BrowseService||(n.BrowseService={})),function(n){n.name="BrowseDynamicAsset"}(f=n.BrowseDynamicAsset||(n.BrowseDynamicAsset={})),function(n){n.name="BrowseDynamicResource"}(e=n.BrowseDynamicResource||(n.BrowseDynamicResource={})),function(n){n.name="NonAssetResource"}(o=n.NonAssetResource||(n.NonAssetResource={})),function(n){n.name="BrowseInstanceLink"}(s=n.BrowseInstanceLink||(n.BrowseInstanceLink={})),function(
n){n.name="BrowseResource"}(h=n.BrowseResource||(n.BrowseResource={})),function(n){n.name="BrowseAllResources"}(c=n.BrowseAllResources||(n.BrowseAllResources={})),function(n){n.name="BrowseRecentResources"}(l=n.BrowseRecentResources||(n.BrowseRecentResources={})),function(n){n.name="BrowseResourceGroup"}(a=n.BrowseResourceGroup||(n.BrowseResourceGroup={})),function(n){n.name="ActiveDirectoryMfaPlaceholder"}(v=n.ActiveDirectoryMfaPlaceholder||(n.ActiveDirectoryMfaPlaceholder={})),function(n){n.name="ActiveDirectoryRmsPlaceholder"}(y=n.ActiveDirectoryRmsPlaceholder||(n.ActiveDirectoryRmsPlaceholder={})),function(n){n.name="ApiManagementPlaceholder"}(p=n.ApiManagementPlaceholder||(n.ApiManagementPlaceholder={})),function(n){n.name="BackupPlaceholder"}(w=n.BackupPlaceholder||(n.BackupPlaceholder={})),function(n){n.name="BizTalkServicePlaceholder"}(b=n.BizTalkServicePlaceholder||(n.BizTalkServicePlaceholder={})),function(n){n.name="CdnPlaceholder"}(k=n.CdnPlaceholder||(n.CdnPlaceholder={})),
function(n){n.name="EventHubPlaceholder"}(d=n.EventHubPlaceholder||(n.EventHubPlaceholder={})),function(n){n.name="MarketplaceAddOnPlaceholder"}(g=n.MarketplaceAddOnPlaceholder||(n.MarketplaceAddOnPlaceholder={})),function(n){n.name="MediaServicePlaceholder"}(nt=n.MediaServicePlaceholder||(n.MediaServicePlaceholder={})),function(n){n.name="MobileServicePlaceholder"}(tt=n.MobileServicePlaceholder||(n.MobileServicePlaceholder={})),function(n){n.name="RemoteAppPlaceholder"}(it=n.RemoteAppPlaceholder||(n.RemoteAppPlaceholder={})),function(n){n.name="ServiceBusPlaceholder"}(rt=n.ServiceBusPlaceholder||(n.ServiceBusPlaceholder={})),function(n){n.name="SiteRecoveryPlaceholder"}(ut=n.SiteRecoveryPlaceholder||(n.SiteRecoveryPlaceholder={})),function(n){n.name="StorSimplePlaceholder"}(ft=n.StorSimplePlaceholder||(n.StorSimplePlaceholder={})),function(n){n.name="StreamAnalyticsPlaceholder"}(et=n.StreamAnalyticsPlaceholder||(n.StreamAnalyticsPlaceholder={})),function(n){n.name="TrafficManagerPlaceholder"}
(ot=n.TrafficManagerPlaceholder||(n.TrafficManagerPlaceholder={})),function(n){n.name="AccountPortalSearchResult"}(st=n.AccountPortalSearchResult||(n.AccountPortalSearchResult={})),function(n){n.name="WhatsNew"}(ht=n.WhatsNew||(n.WhatsNew={})),function(n){n.name="Lock"}(ct=n.Lock||(n.Lock={})),function(n){n.name="Deployments"}(lt=n.Deployments||(n.Deployments={})),function(n){n.name="ResourceGroups";var t;(function(n){n.read="Microsoft.Resources/subscriptions/resourceGroups/read";n.deleteObject="Microsoft.Resources/subscriptions/resourceGroups/delete";n.write="Microsoft.Resources/subscriptions/resourceGroups/write";n.writeDeployments="Microsoft.Resources/subscriptions/resourceGroups/deployments/write";n.readDeployments="Microsoft.Resources/subscriptions/resourceGroups/deployments/read";n.readEvents="Microsoft.Insights/events/read"})(t=n.Permissions||(n.Permissions={}))}(at=n.ResourceGroups||(n.ResourceGroups={})),function(n){n.name="ResourceGroupEvents"}(vt=n.ResourceGroupEvents||(n.ResourceGroupEvents=
{})),function(n){n.name="ServicesHealth"}(yt=n.ServicesHealth||(n.ServicesHealth={})),function(n){n.name="Settings"}(pt=n.Settings||(n.Settings={})),function(n){n.name="Tag"}(wt=n.Tag||(n.Tag={}))}(c=n.AssetTypes||(n.AssetTypes={})),function(n){n.armExplorer=c.ArmExplorer.name;n.browseAll=c.BrowseAll.name;n.browseAllWithType=c.BrowseAllWithType.name;n.browseService=c.BrowseService.name;n.browseDynamicAsset=c.BrowseDynamicAsset.name;n.browseDynamicResource=c.BrowseDynamicResource.name;n.nonAssetResource=c.NonAssetResource.name;n.browseInstanceLink=c.BrowseInstanceLink.name;n.browseResource=c.BrowseResource.name;n.browseAllResources=c.BrowseAllResources.name;n.browseRecentResources=c.BrowseRecentResources.name;n.browseResourceGroup=c.BrowseResourceGroup.name;n.activeDirectoryMfaPlaceholder=c.ActiveDirectoryMfaPlaceholder.name;n.activeDirectoryRmsPlaceholder=c.ActiveDirectoryRmsPlaceholder.name;n.apiManagementPlaceholder=c.ApiManagementPlaceholder.name;n.backupPlaceholder=c.BackupPlaceholder.
name;n.bizTalkServicePlaceholder=c.BizTalkServicePlaceholder.name;n.cdnPlaceholder=c.CdnPlaceholder.name;n.eventHubPlaceholder=c.EventHubPlaceholder.name;n.marketplaceAddOnPlaceholder=c.MarketplaceAddOnPlaceholder.name;n.mediaServicePlaceholder=c.MediaServicePlaceholder.name;n.mobileServicePlaceholder=c.MobileServicePlaceholder.name;n.remoteAppPlaceholder=c.RemoteAppPlaceholder.name;n.serviceBusPlaceholder=c.ServiceBusPlaceholder.name;n.siteRecoveryPlaceholder=c.SiteRecoveryPlaceholder.name;n.storSimplePlaceholder=c.StorSimplePlaceholder.name;n.streamAnalyticsPlaceholder=c.StreamAnalyticsPlaceholder.name;n.trafficManagerPlaceholder=c.TrafficManagerPlaceholder.name;n.accountPortalSearchResult=c.AccountPortalSearchResult.name;n.whatsNew=c.WhatsNew.name;n.lock=c.Lock.name;n.deployments=c.Deployments.name;n.resourceGroups=c.ResourceGroups.name;n.resourceGroupEvents=c.ResourceGroupEvents.name;n.servicesHealth=c.ServicesHealth.name;n.settings=c.Settings.name;n.tag=c.Tag.name}(y=n.AssetTypeNames||
(n.AssetTypeNames={})),function(n){n.armExplorerBlade="ArmExplorerBlade";n.unauthorizedAssetBlade="UnauthorizedAssetBlade";n.notFoundAssetBlade="NotFoundAssetBlade";n.unavailableAssetBlade="UnavailableAssetBlade";n.noCreateFlowBlade="NoCreateFlowBlade";n.browseAllBlade="BrowseAllBlade";n.browseAllBladeWithType="BrowseAllBladeWithType";n.browseServiceBlade="BrowseServiceBlade";n.browseDynamicAssetBlade="BrowseDynamicAssetBlade";n.browseDynamicResourceBlade="BrowseDynamicResourceBlade";n.resources="Resources";n.browseGrid2ChooseColumnsBlade="BrowseGrid2ChooseColumnsBlade";n.resourceProperties="ResourceProperties";n.browseInstanceLinkBlade="BrowseInstanceLinkBlade";n.browseLinkBlade="BrowseLinkBlade";n.browseResourceBlade="BrowseResourceBlade";n.browseAllResourcesBlade="BrowseAllResourcesBlade";n.browseAllFilteredResourcesBlade="BrowseAllFilteredResourcesBlade";n.browseRecentResourcesBlade="BrowseRecentResourcesBlade";n.browseResourceGroupBlade="BrowseResourceGroupBlade";n.mapResourceGroupBlade=
"MapResourceGroupBlade";n.resourceGroupPickerV3Blade="ResourceGroupPickerV3Blade";n.managementTeamBlade="ManagementTeamBlade";n.deployFromTemplateBlade="DeployFromTemplateBlade";n.parametersEditorBlade="ParametersEditorBlade";n.templateEditorBlade="TemplateEditorBlade";n.templateViewerBlade="TemplateViewerBlade";n.errorDetailsBlade="ErrorDetailsBlade";n.whatsNewBlade="WhatsNewBlade";n.noSubscriptionsBlade="NoSubscriptionsBlade";n.noMsdnOfferOnSubscriptionsBlade="NoMsdnOfferOnSubscriptionsBlade";n.subCertsBlade="SubCertsBlade";n.subQuotasBlade="SubQuotasBlade";n.locationPickerV3Blade="LocationPickerV3Blade";n.locksBlade="LocksBlade";n.lockEditBlade="LockEditBlade";n.moveResourceBlade="MoveResourceBlade";n.regionPickerBlade="RegionPickerBlade";n.resourceGroupPickerBlade="ResourceGroupPickerBlade";n.createResourceGroupBlade="CreateResourceGroupBlade";n.subscriptionPickerBlade="SubscriptionPickerBlade";n.createEmptyResourceGroupBlade="CreateEmptyResourceGroupBlade";n.deploymentsListBlade="DeploymentsListBlade";
n.deploymentDetailsBlade="DeploymentDetailsBlade";n.deploymentOperationPropertiesBlade="DeploymentOperationPropertiesBlade";n.resourceGroupMapBlade="ResourceGroupMapBlade";n.resourceGroupQuickStartBlade="ResourceGroupQuickStartBlade";n.resourceGroupEventsBlade="ResourceGroupEventsBlade";n.resourceGroupCostsBlade="ResourceGroupCostsBlade";n.resourceGroupDeleteBlade="ResourceGroupDeleteBlade";n.resourceGroupDeleteBladeForCommand="ResourceGroupDeleteBladeForCommand";n.resourceGroupSettingListBlade="ResourceGroupSettingListBlade";n.resourceMenuBlade="ResourceMenuBlade";n.servicesHealthBlade="ServicesHealthBlade";n.settingsBlade="SettingsBlade";n.languageSelectionBlade="LanguageSelectionBlade";n.localeSelectionBlade="LocaleSelectionBlade";n.myAccessBlade="MyAccessBlade";n.azureProvisioningResultsBlade="AzureProvisioningResultsBlade";n.subscriptionPickerV3Blade="SubscriptionPickerV3Blade";n.resourcesWithTagBlade="ResourcesWithTagBlade";n.resourceTagsListBlade="ResourceTagsListBlade";n.subscriptionTagsListBlade=
"SubscriptionTagsListBlade";n.armDataJsonBlade="ArmDataJsonBlade";n.armActionsJsonBlade="ArmActionsJsonBlade";n.deployToAzure="DeployToAzure";n.gettingsStartedBlade="GettingsStartedBlade";n.browseResourceSettingsBlade="BrowseResourceSettingsBlade";n.markdownContextPane="MarkdownContextPane";n.armErrorsBlade="ArmErrorsBlade";n.clockContextPane="ClockContextPane";n.videoContextPane="VideoContextPane";n.armDataContextPane="ArmDataContextPane";n.armActionsContextPane="ArmActionsContextPane"}(p=n.BladeNames||(n.BladeNames={})),function(n){n.serviceCommandGroup="serviceCommandGroup";n.recentResourceBrowseGrid2Commands="RecentResourceBrowseGrid2Commands";n.recentResourceBrowseCommands="RecentResourceBrowseCommands";n.browseResourceGroupCommandGroup="BrowseResourceGroupCommandGroup";n.managementTeamCommandGroup="ManagementTeamCommandGroup";n.lockCommands="LockCommands";n.moveResourceCommands="MoveResourceCommands";n.resourceGroupBrowseCommands="ResourceGroupBrowseCommands";n.serviceHealth="ServiceHealth";
n.addTagCommandGroup="AddTagCommandGroup";n.tagItemCommandGroup="TagItemCommandGroup"}(w=n.CommandGroupNames||(n.CommandGroupNames={}))}(c||(c={})),c});define("HubsExtension/Common/UserSettingsHelper",["require","exports","f","h"],function(n,t,i,r){"use strict";var u;return function(n){var t=i.Base,u=r.Hubs.Settings.Schema,e=t.Rpc.Internal,f=t.Constants.Shell,o=function(){function n(){}return n.initialize=function(t){if(n._rpcClient)throw new Error("rpcClient already initialized.");n._rpcClient=t||e.client},n.readSettings=function(t){return u.readHubsUserSettings.invoke(n._rpcClient,f,t)},n.writeSettings=function(t,i){return u.writeHubsUserSettings.invoke(n._rpcClient,f,{settings:t,priority:i})},n}();n.UserSettingsHelper=o}(u||(u={})),u})